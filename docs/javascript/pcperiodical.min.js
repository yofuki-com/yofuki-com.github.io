var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(g,n,b){g instanceof String&&(g=String(g));for(var G=g.length,f=0;f<G;f++){var P=g[f];if(n.call(b,P,f,g))return{i:f,v:P}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,n,b){if(g==Array.prototype||g==Object.prototype)return g;g[n]=b.value;return g};$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<g.length;++n){var b=g[n];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(g,n){var b=$jscomp.propertyToPolyfillSymbol[n];if(null==b)return g[n];b=g[b];return void 0!==b?b:g[n]};
$jscomp.polyfill=function(g,n,b,G){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,n,b,G):$jscomp.polyfillUnisolated(g,n,b,G))};$jscomp.polyfillUnisolated=function(g,n,b,G){b=$jscomp.global;g=g.split(".");for(G=0;G<g.length-1;G++){var f=g[G];if(!(f in b))return;b=b[f]}g=g[g.length-1];G=b[g];n=n(G);n!=G&&null!=n&&$jscomp.defineProperty(b,g,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(g,n,b,G){var f=g.split(".");g=1===f.length;G=f[0];G=!g&&G in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var P=0;P<f.length-1;P++){var U=f[P];if(!(U in G))return;G=G[U]}f=f[f.length-1];b=$jscomp.IS_SYMBOL_NATIVE&&"es6"===b?G[f]:null;n=n(b);null!=n&&(g?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:n}):n!==b&&(void 0===$jscomp.propertyToPolyfillSymbol[f]&&(b=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+b+"$"+f),$jscomp.defineProperty(G,$jscomp.propertyToPolyfillSymbol[f],{configurable:!0,writable:!0,value:n})))};$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(n,b){return $jscomp.findInternal(this,n,b).v}},"es6","es3");
(function(g,n){"function"===typeof define&&define.amd?define(["jquery"],n):"object"===typeof exports?module.exports=n():g.jeDate=n()})(this,function(){function g(){var a=new Date;this.reDate=function(){return new g};this.GetValue=function(){return a};this.GetFullYear=function(){return a.getFullYear()};this.GetMonth=function(){return a.getMonth()+1};this.GetHours=function(){return a.getHours()};this.GetDate=function(){return a.getDate()};this.GetMinutes=function(){return a.getMinutes()};this.GetSeconds=
function(){return a.getSeconds()}}function n(a,d){this.opts=d;this.valCell=a;this.format=this.opts.format;this.initdates()}if($&&$.fn&&$.fn.jquery){var b={},G=/\-/g;"YYYY|MM|DD|hh|mm|ss|zz".replace("|zz","");var f=function(a){return window.parseInt(a,10)},P={name:"cn",month:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),weeks:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),times:["\u5c0f\u65f6","\u5206\u949f","\u79d2\u6570"],titText:"\u8bf7\u9009\u62e9\u65e5\u671f\u65f6\u95f4",clear:"\u6e05\u7a7a",
today:"\u73b0\u5728",yes:"\u786e\u5b9a",close:"\u5173\u95ed"};$.fn.jeDate=function(a){return new n($(this),a||{})};$.extend({jeDate:function(a,d){return new n($(a),d||{})}});b.isObj=function(a){for(var d in a)return!0;return!1};b.reMatch=function(a){return a.match(/\w+|d+/g)};b.docScroll=function(a){a=a?"scrollLeft":"scrollTop";return document.body[a]|document.documentElement[a]};b.docArea=function(a){return document.documentElement[a?"clientWidth":"clientHeight"]};b.isLeap=function(a){return 0!==
a%100&&0===a%4||0===a%400};b.digit=function(a){return 10>a?"0"+(a|0):a};b.isNum=function(a){return/^[+-]?\d*\.?\d*$/.test(a)?!0:!1};b.getDaysNum=function(a,d){var c=31;switch(f(d)){case 2:c=b.isLeap(a)?29:28;break;case 4:case 6:case 9:case 11:c=30}return c};b.getYM=function(a,d,c){a=new Date(a,d-1);a.setMonth(d-1+c);return{y:a.getFullYear(),m:a.getMonth()+1}};b.prevMonth=function(a,d,c){return b.getYM(a,d,0-(c||1))};b.nextMonth=function(a,d,c){return b.getYM(a,d,c||1)};b.parse=function(a,d){return d.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,
function(c,e){return"zz"==c?"00":b.digit(a[c])})};b.isparmat=function(a){var d=b.reMatch(a),c=[];$.each("YYYY MM DD hh mm ss zz".split(" "),function(e,k){$.each(d,function(h,l){k==l&&c.push(l)})});return c.join("-")};b.parseOld=function(a,d,c){a=a.concat(d);var e={},k=b.reMatch(c);$.each(a,function(h,l){e[k[h]]=f(l)});return c.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,function(h,l){return"zz"==h?"00":b.digit(e[h])})};b.checkFormat=function(a){var d=[];a.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,function(c,e){d.push(c)});
return d.join("-")};b.splMatch=function(a){a=a.split(" ");return b.reMatch(a[0])};b.mlen=function(a){var d=a.match(/\w+|d+/g).length;return"hh"==a.substring(0,2)&&3>=d?7:d};b.checkDate=function(a){a=b.reMatch(a);return isNaN(a[0])||isNaN(a[1])||isNaN(a[2])||12<a[1]||1>a[1]||1>a[2]||31<a[2]||(4==a[1]||6==a[1]||9==a[1]||11==a[1])&&30<a[2]||2==a[1]&&(29<a[2]||(0==a[0]%100&&0!=a[0]%400||0!=a[0]%4)&&28<a[2])?!1:!0};b.GetDateTime=function(a,d){d=d||"YYYY-MM-DD hh:mm:ss";var c=$.extend({YYYY:null,MM:null,
DD:null,hh:0,mm:0,ss:0},a),e={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"},k=(new g).reDate();$.each("ss mm hh DD MM YYYY".split(" "),function(h,l){if(!b.isNum(f(c[l])))return null;h=k.GetValue();if(f(c[l])||0==f(c[l]))h["set"+e[l]](k["Get"+e[l]]()+("MM"==l?-1:0)+f(c[l]))});return b.parse({YYYY:k.GetFullYear(),MM:k.GetMonth(),DD:k.GetDate(),hh:k.GetHours(),mm:k.GetMinutes(),ss:k.GetSeconds()},d)};b.isValHtml=function(a){return/textarea|input/.test(a[0].tagName.toLocaleLowerCase())};
b.isBool=function(a){return void 0==a||1==a?!0:!1};var U=function(){for(var a="",d=[1,2,3,4,5,6,7,8,9,0],c=0;8>c;c++)a+=d[Math.round(Math.random()*(d.length-1))];return a},K=n.prototype,T=b.reMatch("YYYY|MM|DD|hh|mm|ss|zz");K.initdates=function(){var a=this,d=a.opts,c=void 0!=d.trigger?d.trigger:"click",e=void 0==d.zIndex?1E4:d.zIndex,k=void 0==d.isinitVal||0==d.isinitVal?!1:!0,h="#jedatebox"+U(),l=b.isBool(d.isShow);a.areaVal=[];d.range=d.range||!1;a.fixed=b.isBool(d.fixed);var E=function(y,m){var C=
$("<div/>",{id:m.replace(/#/g,""),"class":"jedatebox "+(d.skinCell||"jedateblue")}),z=l?1==a.fixed?"absolute":"fixed":"relative";C.attr("author","chen guojun").css({"z-index":"#jedatebox"!=m?"":e,position:z});"#jedatebox"!=m&&C.attr({jeformat:d.format||"YYYY-MM-DD hh:mm:ss",jefixed:h});z=["1900-01-01","00:00:00"];var B=["2099-12-31","23:59:59"];b.minDate=(/\-/g.test(d.minDate)||void 0==d.minDate?d.minDate:z[0]+" "+d.minDate)||"1900-01-01 00:00:00";b.maxDate=(/\-/g.test(d.maxDate)||void 0==d.maxDate?
d.maxDate:B[0]+" "+d.maxDate)||"2099-12-31 23:59:59";b.boxelem=l?"#jedatebox":m;a.format=l?d.format||"YYYY-MM-DD hh:mm:ss":C.attr("jeformat");m=a.getValue({});$(y).append(C);a.renderHtml(m[0].YYYY,m[0].MM,m[0].DD,d,b.boxelem)};k&&c&&(k=d.initDate||[],k[1]?(k=b.reMatch(b.GetDateTime(k[0])),k=[{YYYY:k[0],MM:b.digit(k[1]),DD:b.digit(k[2]),hh:b.digit(k[3]),mm:b.digit(k[4]),ss:b.digit(k[5])}]):k=a.getValue(b.isObj(k[0])?k[0]:{}),a.setValue(k[0],d.format||"YYYY-MM-DD hh:mm:ss"));if(l){var p=["body","#jedatebox"];
if(c)a.valCell.on(c,function(y){y.stopPropagation();0<$(p[1]).length||E(p[0],p[1])});else E(p[0],p[1])}else E(a.valCell,h)};K.parseFormat=function(a,d){return b.parse(a,d)};K.parseValue=function(a,d){var c=this,e=[],k=c.opts,h="",l=$(b.boxelem),E=void 0==d?0<$(l.attr("jefixed")).length?l.attr("jeformat"):c.format:d,p=$.isFunction(a)?a():a;if(""!=p||0<p.length){a=0!=k.range;var y=Array(a?2:1);$.each(y,function(m){var C=2==y.length,z={},B=b.reMatch(E),D=C?p.split(k.range):p;C&&$.each(b.reMatch(D[m]),
function(A,t){z[7==b.mlen(c.format)?B[A]:T[A]]=t});e.push(c.parseFormat(C?z:D,E));z={}});h=e.join(a?k.range:"")}return h};K.setValue=function(a,d,c){var e=this.valCell;if("string"==typeof a&&""!=a&&0==this.opts.range){var k=b.reMatch(a),h={};$.each(b.reMatch(this.format),function(E,p){h[p]=f(k[E])});var l=h}else l=a;a=b.isValHtml(e)?"val":"text";d=this.parseValue(l,d);if(0!=c)e[a](d);$(e).change();return d};K.getValue=function(a){var d=this.valCell,c=this.opts,e=(new g).reDate(),k=e.GetFullYear(),
h=e.GetMonth(),l=e.GetDate(),E=e.GetHours(),p=e.GetMinutes();e=e.GetSeconds();if(void 0==a&&b.isBool(c.isShow))c=b.isValHtml(d)?"val":"text",c=d[c]();else{d=b.isBool(c.isShow)?""==this.getValue():!b.isBool(c.isShow);var y=$.extend({YYYY:null,MM:null,DD:null},a||{}),m=[],C=Array(2),z=[{YYYY:k,MM:h,DD:l,hh:E,mm:p,ss:e,zz:0},{YYYY:k,MM:h,DD:l,hh:E,mm:p,ss:e,zz:0}];if(d)$.each(C,function(v){var r={};$.each(T,function(u,q){r[q]=f(void 0==y[q]||null==y[q]?z[v][q]:y[q])});m.push($.extend(z[v],r))});else{var B=
0!=c.range,D=this.getValue(),A=D.split(c.range),t=b.reMatch(this.format);$.each(C,function(v){var r={},u=B?b.reMatch(A[v]):b.reMatch(D);$.each(t,function(w,F){r[F]=f(u[w])});var q=$.extend(r,a||{});m.push($.extend(z[v],q))})}c=m}return c};K.renderHtml=function(a,d,c,e,k){var h=this,l=$(k);k=e.language||P;var E=0!=e.range,p=b.isBool(e.isShow),y=b.minDate.replace(/\s+/g," ").split(" ");b.maxDate.replace(/\s+/g," ").split(" ");d=h.getValue({YYYY:a,MM:d,DD:c});a=d[0];d=d[1];h.format=p?h.format:l.attr("jeformat");
c=b.mlen(h.format);var m=/hh/.test(h.format),C="cn"==k.name?p?k.clear:"\u91cd\u7f6e":p?k.clear:"Reset",z=$("<div/>",{"class":"maincont"}),B=$("<div/>",{"class":"mainfoot"}),D=$("<div/>",{"class":"daybox"}).append("<div class='arthead'></div><div class='artcont'></div>"),A=$("<div/>",{"class":"ymsbox"}).append("<div class='arthead'></div><div class='artcont'></div>"),t=$("<div/>",{"class":"timebox"}).append("<div class='arthead'></div><div class='artcont'></div>");z.append(A).append(D).append(1==c||
2==c?"":t);l.empty().append(z.children().hide()).append(B);z='<span class="clear">'+C+'</span><span class="today">'+k.today+'</span><span class="setok">'+k.yes+"</span>";C=$("<div/>",{"class":"timecon"}).append(E?"<em></em><i>:</i><em></em><i>:</i><em></em><span> ~ </span><em></em><i>:</i><em></em><i>:</i><em></em>":"<em></em><i>:</i><em></em><i>:</i><em></em>");z=$("<div/>",{"class":"btnscon"}).append(z);B.append(C).append(z);l.append($("<div/>",{"class":"jedate-tips"}).hide());h.maincon=function(r,
u){return l.find(r+" > "+(0==u?".arthead":".artcont"))};if(m){y=/\s/.test(b.minDate)?y[1]:y[0];/\s/.test(b.maxDate);y=b.reMatch(y);z=[a.hh,a.mm,a.ss];var v=[];v=E?""==h.getValue()?7==c?y.concat(y):y.concat([0,0,0]):z.concat([d.hh,d.mm,d.ss]):z;$.each(B.find(".timecon em"),function(r,u){$(this).text(b.digit(v[r]))})}else B.find(".timecon").hide();7==c?(h.maincon(".timebox",0).html(k.titText),l.find(".timebox").show(),h.eachHms(e,l)):3<=c&&6>=c&&(h.maincon(".daybox",0).append('<em class="yearprev yprev"></em><em class="monthprev mprev"></em><em class="monthnext mnext"></em><em class="yearnext ynext"></em>'),
l.find(".daybox").show(),h.eachDays(a.YYYY,a.MM,a.DD,e,l),m&&(h.maincon(".timebox",1).attr("cont","no"),h.maincon(".timebox",0).html(k.titText+'<em class="close"></em>'),l.find(".timecon").on("click",function(){"no"==h.maincon(".timebox",1).attr("cont")&&(h.maincon(".timebox",1).attr("cont","yes"),l.find(".ymsbox,.daybox").hide(),l.find(".timebox").show(),h.eachHms(e,l),h.dateOrien(l,h.valCell))}),h.maincon(".timebox",0).on("click",".close",function(){h.maincon(".timebox",1).html("").attr("cont",
"no");l.find(".ymsbox,.timebox").hide();l.find(".daybox").show();h.dateOrien(l,h.valCell)}),C.css({cursor:"pointer"})),h.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em><em class="close"></em>').addClass("ymfix"),h.eachYM(a.YYYY,a.MM,e,l,".fixcon"));if(1==c||2==c)h.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em>'),l.find(".ymsbox").show(),h.eachYM(a.YYYY,a.MM,e,l,".jedate-cont");b.isBool(e.isTime)&&p||B.find(".timecon").hide();
p||B.find(".today").hide();h.eventsDate(e,l);setTimeout(function(){e.success&&e.success(l)},50)};K.createYMHtml=function(a,d,c){a=f(a);d=f(d);var e=this.maincon(".daybox",0);c=$("<p/>").css({width:b.isBool(c.multiPane)?"":"50%"});e.append(c.html("<span class='ymbtn'>"+d+"\u6708 "+a+"\u5e74</span>"));return a+"-"+d};K.eachYM=function(a,d,c,e,k){var h=this,l=Array(15),E=new Date,p=c.language||P,y=h.maincon(".ymsbox",1);e=b.isBool(c.multiPane);d=b.mlen(h.format);var m=h.getValue({}),C=/hh/.test(h.format),
z=1==d;0<y.find(".ymcon").length&&y.find(".ymcon").remove();$.each(Array(e?1:2),function(D){var A=function(u,q,w){var F=u.replace(G,"");q=q.replace(G,"");w=w.replace(G,"");return/YYYY-MM-DD/g.test(b.isparmat(h.format))?f(F)==f(q)?0==D?"actdate":"":"":f(F)==f(q)?(C||(h.areaVal.push(u),h.areaStart=!0),"actdate"):f(F)>f(q)&&f(F)<f(w)?"contain":f(F)==f(w)?(C||(h.areaVal.push(u),h.areaStart=!0),"actdate"):""},t=$("<div/>",{"class":"ymcon"}).addClass(1==D?"spaer":""),v=[];$.each(z?l:p.month,function(u,
q){var w=1==D?a+(z?l.length:1):a;u=1==D?z?15+u:12+u:u;if(z){var F=b.splMatch(b.minDate);var H=b.splMatch(b.maxDate);q=F[0];H=H[0];w=w-7+u;var x=""==h.getValue()&&b.isBool(c.isShow)?E.getFullYear():h.getValue();w<q||w>H?v.push({style:"disabled",ym:w,idx:u}):(H=A(w.toString(),x.toString(),m[1].YYYY.toString()),v.push({style:H,ym:w,idx:u}))}else F=b.splMatch(b.minDate),H=b.splMatch(b.maxDate),x=f(w+""+b.digit(q)+"01"),F=f(F[0]+""+b.digit(F[1])+b.digit(F[2])),H=f(H[0]+""+b.digit(H[1])+b.digit(H[2])),
x<F||x>H?v.push({style:"disabled",ym:w+"-"+b.digit(q),idx:u}):(H=w+"-"+b.digit(q),x=m[0].YYYY+"-"+b.digit(m[0].MM),H=A(H,x,m[1].YYYY+"-"+b.digit(m[1].MM)),v.push({style:H,ym:w+"-"+b.digit(q),idx:u}))});var r=$("<table/>",{"class":z?"yul":"ymul"});$.each(Array(z?5:4),function(u){var q=$("<tr/>");$.each(Array(3),function(){var w=$("<td/>");r.append(q.append(w))})});$.each(v,function(u,q){r.find("td").eq(u).addClass(q.style).attr({idx:q.idx,"je-val":q.ym}).html(q.ym)});y.append(t.append(r))});k=y.find("td");
d=h.maincon(".ymsbox",0);var B=z?e?14:29:e?11:23;e=k.eq(0).text();k=k.eq(B).text();B=[z?e:e.substring(0,4),z?k:k.substring(0,4)];d.find("p").remove();d.append("<p>"+e+" ~ "+k+"</p>").attr({min:B[0],max:B[1]})};K.dateRegExp=function(a){a=a.split(",")||[];var d="",c=function(k){var h,l=/#?\{(.*?)\}/;for(k+="";null!=(h=l.exec(k));){h.lastIndex=h.index+h[1].length+h[0].length-h[1].length-1;var E=f(eval(h[1]));0>E&&(E="9700"+-E);k=k.substring(0,h.index)+E+k.substring(h.lastIndex+1)}return k};if(a&&0<a.length){for(var e=
0;e<a.length;e++)d+=c(a[e]),e!=a.length-1&&(d+="|");d=d?new RegExp("(?:"+d+")"):null}else d=null;return d};K.eachDays=function(a,d,c,e,k){var h=this;k=b.isBool(e.isShow);var l=f(a),E=f(d),p=h.valCell,y=e.language||P,m=e.valiDate||[],C=b.reMatch(b.minDate),z=f(C[0]+""+b.digit(C[1])+b.digit(C[2]));C=b.reMatch(b.maxDate);var B=f(C[0]+""+b.digit(C[1])+b.digit(C[2]));C=b.isBool(e.multiPane);var D=h.getValue(k?{}:{YYYY:a,MM:d,DD:c}),A=""!=(p.val()||p.text())&&0!=e.range,t=f(D[0].YYYY+""+b.digit(D[0].MM)+
b.digit(D[0].DD)),v=function(x,J,L){var O=e.marks,I;if(I=$.isArray(O)&&0<O.length)a:{x=x+"-"+b.digit(J)+"-"+b.digit(L);for(J=O.length;J--;)if(O[J]===x){I=!0;break a}I=!1}return I?'<i class="marks"></i>':""},r=function(x,J,L){1==e.festival&&"cn"==y.name?(x=h.jeLunar(x,J-1,L),J=x.solarFestival||x.lunarFestival,L='<p><span class="solar">'+L+'</span><span class="lunar">'+(""!=(J&&x.jieqi)?J:x.jieqi||x.showInLunar)+"</span></p>"):L='<p class="nolunar">'+L+"</p>";return L},u=function(x,J,L,O){x=f(x+""+
b.digit(J)+b.digit(L));if(O){if(x>=z&&x<=B)return!0}else if(z>x||B<x)return!0},q=function(x,J){for(var L=0,O=[],I=(new Date(x,J-1,1)).getDay()||7,V=b.getDaysNum(x,J),W=0,N=b.prevMonth(x,J),X=b.getDaysNum(x,N.m),Q=b.nextMonth(x,J),M=X-I+1;M<=X;M++,L++){var R=v(N.y,N.m,M);I=u(N.y,N.m,M,!1)?"disabled":"other";O.push({style:I,ymd:N.y+"-"+N.m+"-"+M,day:M,d:r(N.y,N.m,M)+R,idx:W++})}for(N=1;N<=V;N++,L++){X=v(x,J,N);I=f(x+""+b.digit(J)+b.digit(N));M=f(D[1].YYYY+""+b.digit(D[1].MM)+b.digit(D[1].DD));R=I>t;
var S=I<M;u(x,J,N,!0)?I==t?(I="actdate",h.areaVal.push(x+"-"+b.digit(J)+"-"+b.digit(N)),h.areaStart=!0):R&&S&&A?I="contain":I==M&&A?(I="actdate",h.areaVal.push(x+"-"+b.digit(J)+"-"+b.digit(N)),h.areaEnd=!0):I="":I="disabled";O.push({style:I,ymd:x+"-"+J+"-"+N,day:N,d:r(x,J,N)+X,idx:W++})}x=1;for(L=42-L;x<=L;x++)J=v(Q.y,Q.m,x),I=u(Q.y,Q.m,x,!1)?"disabled":"other",O.push({style:I,ymd:Q.y+"-"+Q.m+"-"+x,day:x,d:r(Q.y,Q.m,x)+J,idx:W++});return O},w=function(x){x=b.reMatch(x);var J=[];$.each(x,function(L,
O){J.push(b.digit(O))});return J.join("-")},F=12<E+1,H=[];$.each(Array(C?1:2),function(x,J){var L=$("<table/>",{"class":"daysul"}),O=$("<thead/>"),I=$("<tbody/>"),V=1==x?42:0;L.append(O).append(I);$.each(Array(7),function(Q){var M=$("<tr/>");$.each(Array(7),function(){var R=$("<th/>"),S=$("<td/>");M.append(0==Q?R:S.attr("idx",V++));0==Q?O.append(M):I.append(M)})});J=F&&1==x?l+1:l;var W=F&&1==x?1:1==x?E+1:E,N=q(J,W),X=$("<div/>",{"class":"contlist"});$.each(y.weeks,function(Q,M){L.find("th").eq(Q).text(M)});
H.push(h.createYMHtml(J,W,e));$.each(N,function(Q,M){var R=M.style;if(0<m.length&&""!=m[0])if(/%/g.test(m[0])){var S=m[0].replace(/%/g,"").split(","),Y=[];$.each(S,function(aa,Z){Y.push(b.digit(f(Z)))});S=-1==$.inArray(b.digit(M.day),Y);R=b.isBool(m[1])?S?"disabled":R:S?R:"disabled"}else R=h.dateRegExp(m[0]).test(b.digit(M.day)),R=b.isBool(m[1])?R?"disabled":M.style:R?M.style:"disabled";L.find("td").eq(Q).addClass(R).attr("je-val",w(M.ymd)).html(M.d)});h.maincon(".daybox",1).append(X.append(L)).addClass(1==
x?"spaer":"")});h.maincon(".daybox",0).attr("je-ym",H.join(","))};K.eachHms=function(a,d){var c=a.language||P,e=b.isBool(a.multiPane),k=this.getValue({}),h=""==this.getValue(),l=0==a.range,E=b.minDate.replace(/\s+/g," ").split(" "),p=b.maxDate.replace(/\s+/g," ").split(" "),y=/YYYY-MM-DD/g.test(b.isparmat(this.format))&&/hh/.test(this.format),m=b.reMatch(E[1]),C=b.reMatch(p[1]),z=this.maincon(".timebox",1),B=["action","disabled"],D=d.find(".mainfoot .timecon em"),A=new Date;E=A.getHours();p=A.getMinutes();
A=A.getSeconds();var t=[k[0].hh||E,k[0].mm||p,k[0].ss||A],v=[k[1].hh||E,k[1].mm||p,k[1].ss||A];if(!(0==a.range&&0<d.find(".timelist").length)){$.each(Array(l?1:2),function(u){var q=$("<div/>",{"class":"timelist"}).css({width:l?"100%":"50%",float:l?"":"left"}),w=$("<div/>",{"class":"contime"}),F=$("<div/>",{"class":"textbox"}).append("<p>"+c.times[0]+"</p><p>"+c.times[1]+"</p><p>"+c.times[2]+"</p>");q.append(F);z.addClass(1==u?"spaer":"");$.each([24,60,60],function(H,x){for(var J,L=$("<ul/>").attr("idx",
1==u?3+H:H),O=D.eq(H).text(),I=0;I<x;I++){var V=$("<li/>");J=0!=a.range?y?0==u?I>=m[H]?I==(h?m[H]:t[H])?B[0]:"":B[1]:I>C[H]?B[1]:I==(h?0:v[H])?B[0]:"":I>=m[H]?I==(h?m[H]:0==u?t[H]:v[H])?B[0]:"":B[1]:I>=m[H]&&I<=C[H]?O<m[H]?I==m[H]?B[0]:"":O>C[H]?I==C[H]?B[0]:"":I==O?B[0]:"":B[1];V.text(b.digit(I)).addClass(J);z.append(q.append(w.append(L.append(V))))}});0==e&&l&&q.css({"padding-left":q.outerWidth()/2+12,"padding-right":q.outerWidth()/2+12})});this.locateScroll(z.find("ul"));this.clickTime(a,d);var r=
[];$.each(m,function(u,q){f(q)>f(C[u])&&r.push("\u4e0d\u80fd\u5927\u4e8e\u6700\u5927"+c.times[u])});0<r.length&&this.tips(r.join("<br/>"),4.5)}};K.eventsDate=function(a,d){var c=this;b.isBool(a.multiPane);c.clickYM(a,d);c.clickDays(a,d);c.clickBtn(a,d);b.isBool(a.isShow)&&(a=a.position||[],0<a.length?d.css({top:a[0],left:a[1]}):(c.dateOrien(d,c.valCell),$(window).on("resize",function(){c.dateOrien(d,c.valCell)})));$(document).on("mouseup",function(e){e.stopPropagation();"#jedatebox"==b.boxelem&&((e=
$(b.boxelem))&&"none"!==e.css("display")&&c.dateClose(),0<$("#jedatetipscon").length&&$("#jedatetipscon").remove(),delete c.areaStart,delete c.areaEnd,c.areaVal=[])});$(b.boxelem).on("mouseup",function(e){e.stopPropagation()})};K.clickYM=function(a,d){var c=this,e=c.maincon(".ymsbox",0),k=c.valCell,h=e.find(".yprev"),l=e.find(".ynext"),E=c.maincon(".daybox",0),p=b.isBool(a.isShow),y=E.find(".yprev"),m=E.find(".ynext"),C=E.find(".mprev");E=E.find(".mnext");var z=b.mlen(c.format),B=1==z,D=["actdate",
"contain"],A=new Date,t=function(){var r=c.maincon(".ymsbox",1).find(".ymcon").find("td");r.on("click",function(){var u=$(this),q=u.attr("je-val");u.hasClass("disabled")||(0==a.range?(r.removeClass(D[0]),u.addClass(D[0]),c.maincon(".ymsbox",0).attr("data-val",u.text())):c.areaStart&&void 0==c.areaEnd?(u.addClass(D[0]),c.areaEnd=!0,c.areaVal.push(q),r.each(function(){var w=$(this),F=w.attr("je-val").replace(G,""),H=[c.areaVal[0].replace(G,""),c.areaVal[1].replace(G,"")],x=Math.min.apply(null,H);H=
Math.max.apply(null,H);w.hasClass("other")||f(F)>f(x)&&f(F)<f(H)&&w.addClass(D[1])})):c.areaStart&&c.areaEnd&&(c.delAreaAttr(),r.removeClass(D[0]).removeClass(D[1]),u.addClass(D[0]),c.areaVal.push(q),c.areaStart=!0))})};2==z||B?(t(),$.each([h,l],function(r,u){u.on("click",function(q){var w=$(this);q=A.getMonth()+1;var F=f(w.parent().attr("min"));w=f(w.parent().attr("max"));w=B?0==r?F:w:0==r?--F:++w;c.renderHtml(w,q,null,a,d);0==a.range&&(F=c.parseValue(B?{YYYY:w}:{YYYY:w,MM:q}),q={YYYY:w,MM:q,DD:A.getDate(),
hh:A.getHours(),mm:A.getMinutes(),ss:A.getSeconds()},$.isFunction(a.toggle)&&a.toggle(k,F,q))})})):($.each([y,m],function(r,u){u.on("click",function(q){q.stopPropagation();q=b.reMatch($(this).parent().attr("je-ym"));var w=f(q[0]);q=f(q[1]);w=0==r?--w:++w;c.renderHtml(w,q,null,a,d);if(0==a.range){var F=c.getValue({})[0];F=c.parseValue({YYYY:w,MM:q,DD:F.DD});q={YYYY:w,MM:q,DD:A.getDate(),hh:A.getHours(),mm:A.getMinutes(),ss:A.getSeconds()};$.isFunction(a.toggle)&&a.toggle({elem:k,val:F,date:q})}})}),
$.each([C,E],function(r,u){u.on("click",function(q){q.stopPropagation();var w=b.reMatch($(this).parent().attr("je-ym"));q=f(w[0]);var F=f(w[1]);w=b.prevMonth(q,F);F=b.nextMonth(q,F);0==r?c.renderHtml(w.y,w.m,null,a,d):c.renderHtml(F.y,F.m,null,a,d);q=0==r?w.y:F.y;w=0==r?w.m:F.m;0==a.range&&(F=c.getValue({})[0],F=c.parseValue({YYYY:q,MM:w,DD:F.DD}),q={YYYY:q,MM:w,DD:A.getDate(),hh:A.getHours(),mm:A.getMinutes(),ss:A.getSeconds()},$.isFunction(a.toggle)&&a.toggle({elem:k,val:F,date:q}))})}));if(3<=
z&&6>=z){c.maincon(".daybox",0).on("click",".ymbtn",function(r){d.children(".ymsbox").show();d.children(".daybox,.mainfoot").hide();p&&c.dateOrien(d,c.valCell)});var v=function(){var r=d.find(".ymcon").find("td");r.on("click",function(){var u=$(this),q=b.reMatch(u.attr("je-val"));r.removeClass(D[0]);u.addClass(D[0]);d.children(".jedate-contfix").show();d.children(".jedate-jedatewrap").hide();c.renderHtml(q[0],q[1],null,a,d)})};$.each([h,l],function(r,u){u.on("click",function(q){q=A.getMonth()+1;var w=
f($(this).parent().attr("min")),F=f($(this).parent().attr("max"));w=B?0==r?w:F:0==r?--w:++F;c.eachYM(w,q,a,d,".jedate-contfix");v();p&&c.dateOrien(d,c.valCell);$.isFunction(a.toggle)&&a.toggle()})});e.on("click",".close",function(r){d.children(".daybox,.mainfoot").show();d.children(".ymsbox").hide();p&&c.dateOrien(d,c.valCell)});v()}};K.gethmsVal=function(a){var d={};a.find(".timecon em").each(function(c){void 0==$(this).attr("disabled")&&(d[T[3+c]]=$(this).text())});return d};K.clickDays=function(a,
d){var c=this,e=c.valCell,k=d.find(".daysul").find("td"),h=a.language||P,l=["actdate","contain"];k.on("click",function(E){var p=$(this),y=p.attr("je-val"),m=b.reMatch(y),C=[];if(!p.hasClass("disabled")){E.stopPropagation();E=function(){$.each(m,function(t,v){C.push(f(v))});if(0<$(d.attr("jefixed")).length)c.renderHtml(C[0],C[1],C[2],a,d);else if(b.isBool(a.onClose))k.removeClass(l[0]),p.addClass(l[0]);else{var B={},D=b.reMatch(p.attr("je-val"));$.each(D,function(t,v){B[T[t]]=v});D=/hh/.test(c.format)?
$.extend(B,c.gethmsVal(d)):B;var A=c.setValue(D);c.dateClose();($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun&&a.okfun({elem:e,val:A,date:D})}};var z=function(){c.areaStart&&void 0==c.areaEnd?(p.addClass(l[0]),c.areaEnd=!0,c.areaVal.push(y),k.each(function(){var B=$(this),D=B.attr("je-val").replace(G,""),A=[c.areaVal[0].replace(G,""),c.areaVal[1].replace(G,"")],t=Math.min.apply(null,A);A=Math.max.apply(null,A);B.hasClass("other")||B.hasClass("disabled")||f(D)>f(t)&&f(D)<f(A)&&B.addClass(l[1])})):
c.areaStart&&c.areaEnd&&(c.delAreaAttr(),k.removeClass(l[0]).removeClass(l[1]),p.addClass(l[0]),c.areaVal.push(y),c.areaStart=!0)};0==a.range?E():z()}});a.festival&&"cn"==h.name&&(d.addClass("grid"),k.on("mouseover",function(){0<$("#jedatetipscon").length&&$("#jedatetipscon").remove();var E=$(this),p=b.reMatch(E.attr("je-val")),y=$("<div/>",{id:"jedatetipscon","class":"jedatetipscon"}),m=c.jeLunar(f(p[0]),f(p[1])-1,f(p[2]));p="<p>"+m.solarYear+"\u5e74"+m.solarMonth+"\u6708"+m.solarDate+"\u65e5 "+
m.inWeekDays+'</p><p class="red">\u519c\u5386\uff1a'+m.shengxiao+"\u5e74 "+m.lnongMonth+"\u6708"+m.lnongDate+"</p><p>"+m.ganzhiYear+"\u5e74 "+m.ganzhiMonth+"\u6708 "+m.ganzhiDate+"\u65e5</p>";var C=""!=(m.solarFestival||m.lunarFestival)?'<p class="red">'+("\u8282\u65e5\uff1a"+m.solarFestival+m.lunarFestival)+"</p>":"",z=""!=m.jieqi?'<p class="red">'+(""!=m.jieqi?"\u8282\u6c14\uff1a"+m.jieqi:"")+"</p>":"";m=""!=(m.solarFestival||m.lunarFestival||m.jieqi)?C+z:"";$("body").append(y);y.html(p+m);E=K.lunarOrien(y,
E);y.css({"z-index":void 0==a.zIndex?10005:a.zIndex+5,top:E.top,left:E.left,position:"absolute",display:"block"})}).on("mouseout",function(){$("#jedatetipscon").remove()}))};K.clickBtn=function(a,d){var c=this,e=c.valCell,k=b.isBool(a.isShow),h=7==b.mlen(c.format);b.isBool(a.multiPane);var l=2==b.mlen(c.format),E=1==b.mlen(c.format);d.on("click",".clear",function(p){p.stopPropagation();if(k){p=b.isValHtml(c.valCell)?"val":"text";p=c.valCell[p]();var y=c.setValue("");c.dateClose();""!=p&&(b.isBool(a.clearRestore)&&
(b.minDate=a.startMin||b.minDate,b.maxDate=a.startMax||b.maxDate),($.isFunction(a.clearfun)||null!=a.clearfun)&&a.clearfun({elem:e,val:y}))}else p=c.getValue({}),c.renderHtml(p[0].YYYY,p[0].MM,p[0].DD,a,d);0!=a.range&&c.delAreaAttr()});0!=a.range&&d.find(".today").hide();d.on("click",".today",function(){var p=new Date;p={YYYY:p.getFullYear(),MM:b.digit(p.getMonth()+1),DD:b.digit(p.getDate()),hh:b.digit(p.getHours()),mm:b.digit(p.getMinutes()),ss:b.digit(p.getSeconds())};var y=c.setValue(p);c.dateClose();
($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun({elem:e,val:y,date:p})});d.on("click",".setok",function(p){p.stopPropagation();p=new Date;if(0==a.range){var y=c.gethmsVal(d);var m=function(){var v={},r=b.reMatch(d.find(l||E?".ymcon":".daysul").find("td.actdate").attr("je-val"));$.each(r,function(u,q){v[T[u]]=q});return/hh/.test(c.format)?$.extend(v,y):v};m=h?y:m()}else{var C={},z=[],B=[[],[]];d.find(".timecon em").each(function(v){void 0==$(this).attr("disabled")&&B[2<v?1:0].push($(this).text())});
7==b.mlen(c.format)?0!=a.range&&$.each(B,function(v,r){v=r.join("");C[v]=r.join(":");z.push(v)}):$.each(c.areaVal,function(v,r){v=r+(/hh/.test(c.format)?" "+B[v].join(":"):"");r=v.replace(/\s|-|:/g,"");C[r]=v;z.push(r)});m=Math.min.apply(null,z);var D=Math.max.apply(null,z);m=C[m]+a.range+C[D]}k?(D=c.setValue(m),c.dateClose()):D=c.setValue(m,c.format,!1);if(0==a.range)var A={YYYY:m.YYYY||p.getFullYear(),MM:b.digit(m.MM||p.getMonth()+1),DD:b.digit(m.DD||p.getDate()),hh:b.digit(m.hh||p.getHours()),
mm:b.digit(m.mm||p.getMinutes()),ss:b.digit(m.ss||p.getSeconds())};else{var t=c.setValue(m,c.format,!1);A=[];$.each(Array(2),function(v,r){var u={},q=b.reMatch(t.split(a.range)[v]);$.each(b.reMatch(c.format),function(w,F){u[F]=q[w]});A.push(u)})}($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun({elem:e,val:D,date:A})})};K.clickTime=function(a,d){var c=this;if(/hh/.test(c.format)){var e=c.maincon(".timebox",1).find("ul");e.on("click","li",function(){var k=$(this),h=k.parent().attr("idx"),l=k.text();
k.hasClass("disabled")||(k.addClass("action").siblings().removeClass("action"),d.find(".timecon em").eq(h).text(l),c.locateScroll(e))})}};K.locateScroll=function(a){$.each(a,function(){var d=$(this),c=d.find(".action");d[0].scrollTop=0<c.length?c[0].offsetTop-114:0})};K.lunarOrien=function(a,d,c){var e=d[0].getBoundingClientRect();d=e.right+a[0].offsetWidth/1.5>=b.docArea(1)?e.right-a[0].offsetWidth:e.left+(c?0:b.docScroll(1));a=e.bottom+a[0].offsetHeight/1<=b.docArea()?e.bottom-1:e.top>a[0].offsetHeight/
1.5?e.top-a[0].offsetHeight-1:b.docArea()-a[0].offsetHeight;return{top:Math.max(a+(c?0:b.docScroll())+1,1)+"px",left:d+"px"}};K.dateOrien=function(a,d,c){d=this.fixed?d[0].getBoundingClientRect():a[0].getBoundingClientRect();var e=d.left;var k=d.bottom;if(this.fixed){var h=a.outerWidth(),l=a.outerHeight();e+h>b.docArea(!0)&&(e=b.docArea(!0)-h);k+l>b.docArea()&&(k=d.top>l?d.top-l-2:b.docArea()-l-1);c=Math.max(k+(c?0:b.docScroll())+1,1)+"px";e+="px"}else e=c="50%",a.css({"margin-top":-(d.height/2),
"margin-left":-(d.width/2)});a.css({top:c,left:e})};K.tips=function(a,d){var c=$(b.boxelem).find(".jedate-tips");c.html("").html(a||"").show();clearTimeout(this.tipTime);this.tipTime=setTimeout(function(){c.html("").hide()},1E3*(d||2.5))};K.dateClose=function(){0==$($(b.boxelem).attr("jefixed")).length&&$(b.boxelem).remove()};K.dateContrast=function(a,d){a=a.split("-");var c=d.split("-");d=f(a[0]+""+b.digit(f(a[1])-1)+b.digit(a[2]||"01"));a=f(c[0]+""+b.digit(f(c[1])-1)+b.digit(a[2]||"01"));return d>=
a?!1:!0};K.delAreaAttr=function(){delete this.areaStart;delete this.areaEnd;this.areaVal=[]};K.jeLunar=function(a,d,c){var e=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,
19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,
43600,111189,27936,44448],k=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],h="\u5c0f\u5bd2 \u5927\u5bd2 \u7acb\u6625 \u96e8\u6c34 \u60ca\u86f0 \u6625\u5206 \u6e05\u660e \u8c37\u96e8 \u7acb\u590f \u5c0f\u6ee1 \u8292\u79cd \u590f\u81f3 \u5c0f\u6691 \u5927\u6691 \u7acb\u79cb \u5904\u6691 \u767d\u9732 \u79cb\u5206 \u5bd2\u9732 \u971c\u964d \u7acb\u51ac \u5c0f\u96ea \u5927\u96ea \u51ac\u81f3".split(" "),
l="\u6b63 \u4e8c \u4e09 \u56db \u4e94 \u516d \u4e03 \u516b \u4e5d \u5341 \u5341\u4e00 \u814a".split(" "),E={"0101":"*1\u5143\u65e6\u8282","0202":"\u6e7f\u5730\u65e5","0214":"\u60c5\u4eba\u8282","0308":"\u5987\u5973\u8282","0312":"\u690d\u6811\u8282","0315":"\u6d88\u8d39\u8005\u6743\u76ca\u65e5","0401":"\u611a\u4eba\u8282","0422":"\u5730\u7403\u65e5","0501":"*1\u52b3\u52a8\u8282","0504":"\u9752\u5e74\u8282","0512":"\u62a4\u58eb\u8282","0518":"\u535a\u7269\u9986\u65e5","0520":"\u6bcd\u4eb2\u8282","0601":"\u513f\u7ae5\u8282",
"0623":"\u5965\u6797\u5339\u514b\u65e5","0630":"\u7236\u4eb2\u8282","0701":"\u5efa\u515a\u8282","0801":"\u5efa\u519b\u8282","0903":"\u6297\u6218\u80dc\u5229\u65e5","0910":"\u6559\u5e08\u8282",1001:"*3\u56fd\u5e86\u8282",1201:"\u827e\u6ecb\u75c5\u65e5",1224:"\u5e73\u5b89\u591c",1225:"\u5723\u8bde\u8282"},p={"0100":"\u9664\u5915","0101":"*2\u6625\u8282","0115":"\u5143\u5bb5\u8282","0505":"*1\u7aef\u5348\u8282","0707":"\u4e03\u5915\u8282","0715":"\u4e2d\u5143\u8282","0815":"*1\u4e2d\u79cb\u8282","0909":"*1\u91cd\u9633\u8282",
1015:"\u4e0b\u5143\u8282",1208:"\u814a\u516b\u8282",1223:"\u5c0f\u5e74"};return new function(y){var m=function(t,v){return(new Date(3.15569259747E10*(t-1900)+6E4*k[v]+Date.UTC(1900,0,6,2,5))).getUTCDate()},C=function(t){return"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678".charAt(t%10)+"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5".charAt(t%12)},z=function(t){return e[t-1900]&15?e[t-1900]&65536?30:29:0},B=function(t){return 10>t?"0"+(t|0):t},D=function(t,
v){return v.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(r){switch(r){case "yyyy":return r="000"+t.getFullYear(),r.substring(r.length-4);case "dd":return B(t.getDate());case "d":return t.getDate().toString();case "MM":return B(t.getMonth()+1);case "M":return t.getMonth()+1}})};this.isRestDay=this.isToday=!1;this.solarYear=D(y,"yyyy");this.solarMonth=D(y,"M");this.solarDate=D(y,"d");this.solarWeekDay=y.getDay();this.inWeekDays="\u661f\u671f"+"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341".charAt(this.solarWeekDay);
var A=new function(t){var v=0,r=(t-new Date(1900,0,31))/864E5;this.dayCyl=r+40;this.monCyl=14;for(t=1900;2050>t&&0<r;t++){var u=348;for(v=32768;8<v;v>>=1)u+=e[t-1900]&v?1:0;v=u+z(t);r-=v;this.monCyl+=12}0>r&&(r+=v,t--,this.monCyl-=12);this.year=t;this.yearCyl=t-1864;u=e[t-1900]&15;this.isLeap=!1;for(t=1;13>t&&0<r;t++)0<u&&t==u+1&&0==this.isLeap?(--t,this.isLeap=!0,v=z(this.year)):v=e[this.year-1900]&65536>>t?30:29,1==this.isLeap&&t==u+1&&(this.isLeap=!1),r-=v,0==this.isLeap&&this.monCyl++;0==r&&0<
u&&t==u+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--t,--this.monCyl));0>r&&(r+=v,--t,--this.monCyl);this.month=t;this.day=r+1}(y);this.lunarYear=A.year;this.shengxiao="\u9f20\u725b\u864e\u5154\u9f99\u86c7\u9a6c\u7f8a\u7334\u9e21\u72d7\u732a".charAt((this.lunarYear-4)%12);this.lunarMonth=A.month;this.lnongMonth=(this.lunarIsLeapMonth=A.isLeap)?"\u95f0"+l[A.month-1]:l[A.month-1];this.lunarDate=A.day;this.showInLunar=this.lnongDate=function(t,v){switch(t,v){case 10:t="\u521d\u5341";break;case 20:t=
"\u4e8c\u5341";break;case 30:t="\u4e09\u5341";break;default:t="\u521d\u5341\u5eff\u5345".charAt(Math.floor(v/10)),t+="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341".charAt(v%10)}return t}(this.lunarMonth,this.lunarDate);1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"\u6708");this.ganzhiYear=C(A.yearCyl);this.ganzhiMonth=C(A.monCyl);this.ganzhiDate=C(A.dayCyl++);this.jieqi="";this.restDays=0;m(this.solarYear,2*(this.solarMonth-1))==D(y,"d")&&(this.showInLunar=this.jieqi=
h[2*(this.solarMonth-1)]);m(this.solarYear,2*(this.solarMonth-1)+1)==D(y,"d")&&(this.showInLunar=this.jieqi=h[2*(this.solarMonth-1)+1]);"\u6e05\u660e"==this.showInLunar&&(this.showInLunar="\u6e05\u660e\u8282",this.restDays=1);this.solarFestival=E[D(y,"MM")+D(y,"dd")];"undefined"==typeof this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=f(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,""));this.showInLunar=""==this.solarFestival?this.showInLunar:
this.solarFestival;this.lunarFestival=p[this.lunarIsLeapMonth?"00":B(this.lunarMonth)+B(this.lunarDate)];"undefined"==typeof this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>f(RegExp.$1)?this.restDays:f(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,""));12==this.lunarMonth&&this.lunarDate==(e[this.lunarYear-1900]&16?30:29)&&(this.lunarFestival=p["0100"],this.restDays=1);this.showInLunar=""==this.lunarFestival?this.showInLunar:
this.lunarFestival}(new Date(a,d,c))};$.dateVer="6.0.2";$.nowDate=function(a,d){"number"===typeof a&&(a={DD:a});return b.GetDateTime(a,d||"YYYY-MM-DD hh:mm:ss")};$.timeStampDate=function(a,d){d=d||"YYYY-MM-DD hh:mm:ss";var c=/^(-)?\d{1,10}$/.test(a)||/^(-)?\d{1,13}$/.test(a);if(/^[1-9]*[1-9][0-9]*$/.test(a)&&c){a=f(a);if(/^(-)?\d{1,10}$/.test(a))a*=1E3;else if(/^(-)?\d{1,13}$/.test(a))a*=1E3;else if(/^(-)?\d{1,14}$/.test(a))a*=100;else{alert("\u65f6\u95f4\u6233\u683c\u5f0f\u4e0d\u6b63\u786e");return}a=
new Date(a);return b.parse({YYYY:a.getFullYear(),MM:b.digit(a.getMonth()+1),DD:b.digit(a.getDate()),hh:b.digit(a.getHours()),mm:b.digit(a.getMinutes()),ss:b.digit(a.getSeconds())},d)}d=b.reMatch(a);d=new Date(d[0],f(d[1])-1,d[2],d[3]||0,d[4]||0,d[5]||0);return Math.round(d.getTime()/1E3)};$.splitDate=function(a){a=a.match(/\w+|d+/g);return{YYYY:f(a[0]),MM:f(a[1])||0,DD:f(a[2])||0,hh:f(a[3])||0,mm:f(a[4])||0,ss:f(a[5])||0}};$.getLunar=function(a,d){if(/YYYY-MM-DD/g.test(b.isparmat(d||"YYYY-MM-DD hh:mm:ss")))return d=
a.substr(0,4).replace(/^(\d{4})/g,"$1,")+a.substr(4).replace(/(.{2})/g,"$1,"),a=b.isNum(a)?b.reMatch(d):b.reMatch(a),a=this.jeLunar(a[0],a[1]-1,a[2]),{nMonth:a.lnongMonth,nDays:a.lnongDate,yYear:f(a.solarYear),yMonth:f(a.solarMonth),yDays:f(a.solarDate),cWeek:a.inWeekDays,nWeek:a.solarWeekDay}};return n}alert("\u5728\u5f15\u7528jquery.jedate.js\u4e4b\u524d\uff0c\u5148\u5f15\u7528jQuery\uff0c\u5426\u5219\u65e0\u6cd5\u4f7f\u7528 jeDate")});
var PcArticlePeriodical=Class({create:function(g){this._super(g,!0);this.fillContent()},onCreate:function(){this._super();this.stage.css({"background-color":"#ffffff",color:"#333940"})},initHtml:function(){this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>");this.calendarFormUrl=this.getImageUrl("calendar_form");this.cancleUrl=this.getImageUrl("closeForm");this.calendarUrl=this.getImageUrl("calendar");this.articleEmptyUrl=this.getImageUrl("articleEmpty");this.calendarSearchUrl=this.getImageUrl("calendarSearch");
this.calendarCancleUrl=this.getImageUrl("calendarCancle");this.head=$("<div class='head'></div>");this.title2=$("<div class='title2'><img src='"+this.calendarFormUrl+"'/><span>"+getLanguage("btnCalendar","\u5f80\u671f")+"</span></div>");this.close=$("<div class='close'><img alt='close' width='auto' height='auto' src='"+this.cancleUrl+"'/></div>");this.head.append(this.title2);this.head.append(this.close);this.search=$("<div class='search'></div>");this.searchBar=$("<div class='calendar_searchBar'></div>");
this.searchInput=$("<input class='searchInput' placeholder='\u641c\u7d22\u8fc7\u520a\u6807\u9898'/>");this.searchButton=$("<div class='searchButton'><img src='"+this.calendarSearchUrl+"'/></div>");this.searchCancleButton=$("<div class='searchCancleButton'><img src='"+this.calendarCancleUrl+"'/></div>");this.dateButton=$("<div class='dateButton'><input type='text' placeholder='\u9009\u62e9\u65e5\u671f' oninput='OnInput(event)' class='jeinput' id='test01'/><img src='"+this.calendarUrl+"'/></div>");
this.searchInput.on("input propertychange change",function(){var g=this.searchInput.val(),n=this.refreshListByKeywords(g);this.refreshList(n);g?this.searchCancleButton.show():this.searchCancleButton.hide()}.bind(this));this.searchCancleButton.click(function(){this.searchInput.val("");this.searchCancleButton.hide();var g=this.refreshListByKeywords("");this.refreshList(g)}.bind(this));$(this.dateButton.find("#test01")[0]).on("input propertychange change",function(){var g=$("#test01").val();if(g)g=this.refreshListByDate(g),
this.refreshList(g);else this.onRefresh()}.bind(this));this.searchBar.append(this.searchInput);this.searchBar.append(this.searchButton);this.searchBar.append(this.searchCancleButton);this.search.append(this.searchBar);this.search.append(this.dateButton);this.empty=$("<div class='calendar_empty'><img src='"+this.articleEmptyUrl+"'/><p>\u6ca1\u6709\u76f8\u5173\u7ed3\u679c</p></div>");this.container=$("<div class='container'></div>");this.head.append(this.search);this.stage.append(this.head);this.stage.append(this.empty);
this.stage.append(this.container);$(this.close).changeButtonColor("#333940")},initDatePicker:function(){var g="YYYY-MM-DD";switch(this.data.dateType){case "day":g="YYYY-MM-DD";break;case "week":case "half-month":case "month":g="YYYY-MM";break;case "two-months":case "season":case "half-year":case "year":g="YYYY"}var n=this.data.list&&Array.isArray(this.data.list)&&this.data.list.filter(function(b){return b.time}).map(function(b){return Number(b.time)});n=0<n.length?Math.min.apply(null,n):0;n=0<n?(new Date(n)).getFullYear().toString()+
"-01-01":"";$(this.dateButton.find("#test01")[0]).jeDate({format:g,minDate:n})},refreshListByDate:function(g){for(var n=this.data.list,b=[],G=0;G<n.length;G++)if(n[G].time){var f=dateFormat(n[G].time,"yyyy-MM-dd");f&&0<=f.indexOf(g)&&b.push(n[G])}return b},refreshList:function(g){this.container.empty();if(g&&0!=g.length){this.empty.hide();for(var n={$jscomp$loop$prop$i$1:0};n.$jscomp$loop$prop$i$1<g.length;n={$jscomp$loop$prop$i$1:n.$jscomp$loop$prop$i$1},n.$jscomp$loop$prop$i$1++){var b=g[n.$jscomp$loop$prop$i$1].time?
dateFormat(g[n.$jscomp$loop$prop$i$1].time,"yyyy-MM-dd"):"",G=$("<div class='item' bookUrl='"+g[n.$jscomp$loop$prop$i$1].bookUrl+"' domainUrl='"+g[n.$jscomp$loop$prop$i$1].domainUrl+"'></div>"),f=$("<div class='h2'>"+g[n.$jscomp$loop$prop$i$1].title+"</div>");b=$("<div class='time'>"+b+"</div>");$("<div class='tip'>\u6700\u8fd1\u8bfb\u8fc7</div>");var P=$("<div class='image'></div>");P.css("background-image","url("+g[n.$jscomp$loop$prop$i$1].image+")");G.append(f);G.append(b);G.append(P);var U=this;
G.click(function(K){return function(){var T=$(this).attr("bookUrl"),a=$(this).attr("domainUrl");U.showBook(T,a,g[K.$jscomp$loop$prop$i$1].bLink||"")}}(n));this.container.append(G)}n=$("<div class='tips'>\u6682\u65e0\u66f4\u591a</div>");this.container.append(n)}else this.empty.show()},refreshListByKeywords:function(g){var n=this.data.list;if(!g)return n;for(var b=[],G=0;G<n.length;G++)0<=n[G].title.indexOf(g)&&b.push(n[G]);return b},onRefresh:function(){this.refreshList(this.data.list)},onResize:function(){this.width=
436;this.height=windowHeight;this.stage.css({left:-this.width+"px",width:this.width+"px",height:this.height+"px"});this.container.css({width:"100%",height:windowHeight-102+"px",overflow:"auto",padding:"0"});this.container.bind(_event._mousewheel,function(g){g.stopPropagation()}.bind(this))},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){},fillContent:function(){window.book_visit&&window.book_visit.periodicalId&&window.book_visit.periodsListPath&&$.ajax({url:window.book_visit.periodsListPath,
data:{periodicalId:window.book_visit.periodicalId},type:"get",async:!1,success:function(g){try{this.fillList(eval("("+g+")").data)}catch(n){}}.bind(this),error:function(){}})},fillList:function(g){var n=this;this.loading.remove();this.data=g;this.initDatePicker();switch(Number(g&&g.autoShowPastList||"")){case 1:case 2:setTimeout(function(){n.show()},200)}var b=g.list;g&&b&&0!=b.length?this.refreshList(b):this.empty.show()},showBook:function(g,n,b){n&&n.indexOf(0<=window.location.host)&&(g=n);g&&(window.top!==
window.self&&window.parent.postMessage({bookParam:b},"*"),window.location.href.split("#")[0].split("?")[0].replace("/mobile","")==g?this.hide():window.open(g,"_self"))},getImageUrl:function(g){return window.phone_toolbar_icons&&phone_toolbar_icons[g]?"data:image/png;base64,"+phone_toolbar_icons[g]:uiBaseURL+g+".png"}}).extend(SlideLeftForm);function OnInput(g){console.log(g.target.value)};
