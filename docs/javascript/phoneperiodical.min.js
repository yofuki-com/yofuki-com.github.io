/*
 better-normal-scroll v1.14.1
 (c) 2016-2019 ustbhuangyi
 Released under the MIT License.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var k=0;return function(){return k<f.length?{done:!1,value:f[k++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,k,n){if(f==Array.prototype||f==Object.prototype)return f;f[k]=n.value;return f};$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var k=0;k<f.length;++k){var n=f[k];if(n&&n.Math==Math)return n}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,k){var n=$jscomp.propertyToPolyfillSymbol[k];if(null==n)return f[k];n=f[n];return void 0!==n?n:f[k]};
$jscomp.polyfill=function(f,k,n,d){k&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,k,n,d):$jscomp.polyfillUnisolated(f,k,n,d))};$jscomp.polyfillUnisolated=function(f,k,n,d){n=$jscomp.global;f=f.split(".");for(d=0;d<f.length-1;d++){var h=f[d];if(!(h in n))return;n=n[h]}f=f[f.length-1];d=n[f];k=k(d);k!=d&&null!=k&&$jscomp.defineProperty(n,f,{configurable:!0,writable:!0,value:k})};
$jscomp.polyfillIsolated=function(f,k,n,d){var h=f.split(".");f=1===h.length;d=h[0];d=!f&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<h.length-1;m++){var p=h[m];if(!(p in d))return;d=d[p]}h=h[h.length-1];n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?d[h]:null;k=k(n);null!=k&&(f?$jscomp.defineProperty($jscomp.polyfills,h,{configurable:!0,writable:!0,value:k}):k!==n&&(void 0===$jscomp.propertyToPolyfillSymbol[h]&&(n=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[h]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(h):$jscomp.POLYFILL_PREFIX+n+"$"+h),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[h],{configurable:!0,writable:!0,value:k})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(f){if(f)return f;var k=function(m,p){this.$jscomp$symbol$id_=m;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:p})};k.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,h=function(m){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new k(n+(m||"")+"_"+d++,m)};return h},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(f){if(f)return f;f=Symbol("Symbol.iterator");for(var k="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<k.length;n++){var d=$jscomp.global[k[n]];"function"===typeof d&&"function"!=typeof d.prototype[f]&&$jscomp.defineProperty(d.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return f},"es6",
"es3");$jscomp.iteratorPrototype=function(f){f={next:f};f[Symbol.iterator]=function(){return this};return f};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,k){f.raw=k;return f};$jscomp.makeIterator=function(f){var k="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return k?k.call(f):$jscomp.arrayIterator(f)};
$jscomp.polyfill("Array.from",function(f){return f?f:function(k,n,d){n=null!=n?n:function(u){return u};var h=[],m="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];if("function"==typeof m){k=m.call(k);for(var p=0;!(m=k.next()).done;)h.push(n.call(d,m.value,p++))}else for(m=k.length,p=0;p<m;p++)h.push(n.call(d,k[p],p));return h}},"es6","es3");
(function(f,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define(k):(f=f||self,f.Rolldate=k())})(this,function(){function f(d){if(d&&d.el){var h=this,m=h.$(d.el);if(m&&!m.bindRolldate&&(m.bindRolldate=1,h.extend(d),h.tap(m,function(){h.show()}),d.value)){"input"==m.nodeName.toLowerCase()?m.value=d.value:m.innerText=d.value;d=d.value.replace(/-/g,"/").replace(/[^\d/:\s]/g,"");var p=new Date(d);p&&"Invalid Date"!=p?m.bindDate=p:console.error("Invalid Date\uff1a"+
d)}}}(function(d,h){void 0===h&&(h={});h=h.insertAt;if(d&&"undefined"!==typeof document){var m=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.type="text/css";"top"===h?m.firstChild?m.insertBefore(p,m.firstChild):m.appendChild(p):m.appendChild(p);p.styleSheet?p.styleSheet.cssText=d:p.appendChild(document.createTextNode(d))}})("ul{margin:0;padding:0}li{list-style-type:none}.rolldate-container{font-size:20px;color:#333;text-align:center}.rolldate-container header{position:relative;line-height:60px;font-size:18px;border-bottom:1px solid #e0e0e0}.rolldate-container .rolldate-mask{position:fixed;width:100%;height:100%;top:0;left:0;background:#000;opacity:.4;z-index:999}.rolldate-container .rolldate-panel{position:fixed;bottom:0;left:0;width:100%;height:273px;z-index:1000;background:#fff;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.rolldate-container .rolldate-btn{position:absolute;left:0;top:0;height:100%;padding:0 15px;color:#666;font-size:16px;cursor:pointer;-webkit-tap-highlight-color:transparent}.rolldate-container.wx .rolldate-btn{height:150%}.rolldate-container .rolldate-confirm{left:auto;right:0;color:#007bff}.rolldate-container .rolldate-content{position:relative;top:20px}.rolldate-container .rolldate-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.rolldate-container .rolldate-wrapper>div{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:173px;line-height:36px;overflow:hidden;-webkit-flex-basis:-8e;-ms-flex-preferred-size:-8e;flex-basis:-8e;width:1%}.rolldate-container .rolldate-wrapper ul{margin-top:68px}.rolldate-container .rolldate-wrapper li{height:36px}.rolldate-container .rolldate-dim{position:absolute;left:0;top:0;width:100%;height:68px;background:-webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,.4)),to(hsla(0,0%,100%,.8)));background:-webkit-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-o-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-webkit-gradient(linear, left bottom, left top, from(hsla(0, 0%, 100%, 0.4)), to(hsla(0, 0%, 100%, 0.8)));background:-webkit-linear-gradient(bottom, hsla(0, 0%, 100%, 0.4), hsla(0, 0%, 100%, 0.8));background:-o-linear-gradient(bottom, hsla(0, 0%, 100%, 0.4), hsla(0, 0%, 100%, 0.8));background:linear-gradient(0deg,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));pointer-events:none;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10}.rolldate-container .mask-top{border-bottom:1px solid #ebebeb}.rolldate-container .mask-bottom{top:auto;bottom:1px;border-top:1px solid #ebebeb}.rolldate-container .fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}.rolldate-container .fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeIn{0%{bottom:-273px}to{bottom:0}}@keyframes fadeIn{0%{bottom:-273px}to{bottom:0}}@-webkit-keyframes fadeOut{0%{bottom:0}to{bottom:-273px;display:none}}@keyframes fadeOut{0%{bottom:0}to{bottom:-273px;display:none}}@media screen and (max-width:414px){.rolldate-container{font-size:18px}}@media screen and (max-width:320px){.rolldate-container{font-size:15px}}");
var k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},n=function(d,h){return h={exports:{}},d(h,h.exports),h.exports}(function(d,h){!function(m,p){d.exports=p()}(k,function(){function m(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function p(a){for(var b=arguments.length,c=Array(1<b?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];
for(b=0;b<c.length;b++){e=c[b];for(var g in e)a[g]=e[g]}return a}function u(a){return!1!==L&&("standard"===L?"transitionEnd"===a?"transitionend":a:L+a.charAt(0).toUpperCase()+a.substr(1))}function w(a,b,c,e){a.addEventListener(b,c,{passive:!1,capture:!!e})}function z(a,b,c,e){a.removeEventListener(b,c,{passive:!1,capture:!!e})}function r(a){for(var b=0,c=0;a;)b-=a.offsetLeft,c-=a.offsetTop,a=a.offsetParent;return{left:b,top:c}}function x(a){return a instanceof window.SVGElement?(a=a.getBoundingClientRect(),
{top:a.top,left:a.left,width:a.width,height:a.height}):{top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}function A(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1}function C(a){function b(){(l=document.createEvent("Event")).initEvent(c,!0,!0);p(l,g)}var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"click",e=void 0;"mouseup"===a.type||"mousecancel"===a.type?e=a:"touchend"!==a.type&&"touchcancel"!==a.type||(e=a.changedTouches[0]);var g={};e&&(g.screenX=
e.screenX||0,g.screenY=e.screenY||0,g.clientX=e.clientX||0,g.clientY=e.clientY||0);var l=void 0;if("undefined"!=typeof MouseEvent)try{l=new MouseEvent(c,p({bubbles:!0,cancelable:!0},g))}catch(v){b()}else b();l.forwardedTouchEvent=!0;l._constructed=!0;a.target.dispatchEvent(l)}function t(a,b,c,e,g,l,v){b=a-b;c=Math.abs(b)/c;var y=v.itemHeight,E=v.swipeBounceTime,F=v.wheel,B=v.swipeTime,O=F?4:15;a+=c/v.deceleration*(0>b?-1:1);return F&&y&&(a=Math.round(a/y)*y),a<e?(a=l?Math.max(e-l/4,e-l/O*c):e,B=E):
g<a&&(a=l?Math.min(g+l/4,g+l/O*c):g,B=E),{destination:Math.round(a),duration:B}}function H(){}function G(a){console.error("[BScroll warn]: "+a)}function q(a,b){(this.wrapper="string"==typeof a?document.querySelector(a):a)||G("Can not resolve the wrapper DOM.");(this.scroller=this.wrapper.children[0])||G("The wrapper need at least one child element to be scroller.");this.scrollerStyle=this.scroller.style;this._init(b)}var D="undefined"!=typeof window,I=D&&navigator.userAgent.toLowerCase(),P=I&&/wechatdevtools/.test(I),
J=I&&0<I.indexOf("android"),R=D&&document.createElement("div").style,L=function(){if(!D)return!1;var a={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"},b;for(b in a)if(void 0!==R[a[b]])return b;return!1}();L&&"standard"!==L&&L.toLowerCase();var Q=u("transform");I=u("transition");var Y=D&&u("perspective")in R,S=D&&("ontouchstart"in window||P),Z=!1!==Q,aa=D&&I in R,W=u("transitionTimingFunction"),X=u("transitionDuration");u("transitionDelay");u("transformOrigin");
var ba=u("transitionEnd"),T={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2},ca={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},
HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:S,disableTouch:!S,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1},U={style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(a){return 1+--a*a*a*a*a}},da={style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},K={style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(a){return 1- --a*a*a*a}},V=D?
window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,(a.interval||100/60)/2)}:H,M=D?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(a){window.clearTimeout(a)}:H;return q.prototype._init=function(a){this._handleOptions(a);this._events={};this.directionY=this.directionX=this.y=this.x=0;this.setScale(1);
this._addDOMEvents();this._initExtFeatures();this._watchTransition();this.options.observeDOM&&this._initDOMObserver();this.options.autoBlur&&this._handleAutoBlur();this.refresh();this.options.snap||this.scrollTo(this.options.startX,this.options.startY);this.enable()},q.prototype.setScale=function(a){this.lastScale=null==this.scale?a:this.scale;this.scale=a},q.prototype._handleOptions=function(a){this.options=p({},ca,a);this.translateZ=this.options.HWCompositing&&Y?" translateZ(0)":"";this.options.useTransition=
this.options.useTransition&&aa;this.options.useTransform=this.options.useTransform&&Z;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX;this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;
!0===this.options.tap&&(this.options.tap="tap")},q.prototype._addDOMEvents=function(){this._handleDOMEvents(w)},q.prototype._removeDOMEvents=function(){this._handleDOMEvents(z)},q.prototype._handleDOMEvents=function(a){var b=this.options.bindToWrapper?this.wrapper:window;a(window,"orientationchange",this);a(window,"resize",this);this.options.click&&a(this.wrapper,"click",this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(b,"mousemove",this),a(b,"mousecancel",this),a(b,"mouseup",
this));S&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(b,"touchmove",this),a(b,"touchcancel",this),a(b,"touchend",this));a(this.scroller,ba,this)},q.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap();this.options.scrollbar&&this._initScrollbar();this.options.pullUpLoad&&this._initPullUp();this.options.pullDownRefresh&&this._initPullDown();this.options.wheel&&this._initWheel();this.options.mouseWheel&&this._initMouseWheel();this.options.zoom&&this._initZoom();
this.options.infinity&&this._initInfinite()},q.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var a=this,b=!1;Object.defineProperty(this,this.options.useTransition?"isInTransition":"isAnimating",{get:function(){return b},set:function(c){b=c;c=a.scroller.children.length?a.scroller.children:[a.scroller];for(var e=b&&!a.pulling?"none":"auto",g=0;g<c.length;g++)c[g].style.pointerEvents=e}})}},q.prototype._handleAutoBlur=function(){this.on("scrollStart",function(){var a=
document.activeElement;!a||"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName||a.blur()})},q.prototype._initDOMObserver=function(){var a=this;if("undefined"!=typeof MutationObserver){var b=void 0,c=new MutationObserver(function(e){if(!a._shouldNotRefresh()){for(var g=!1,l=!1,v=0;v<e.length;v++){var y=e[v];if("attributes"!==y.type){g=!0;break}if(y.target!==a.scroller){l=!0;break}}g?a.refresh():l&&(clearTimeout(b),b=setTimeout(function(){a._shouldNotRefresh()||a.refresh()},60))}});c.observe(this.scroller,
{attributes:!0,childList:!0,subtree:!0});this.on("destroy",function(){c.disconnect()})}else this._checkDOMUpdate()},q.prototype._shouldNotRefresh=function(){var a=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||a},q.prototype._checkDOMUpdate=function(){function a(){var g=this;setTimeout(function(){(function(){if(!this.destroyed){var l=(b=x(this.scroller)).width,v=b.height;c===l&&e===v||this.refresh();
c=l;e=v;a.call(this)}}).call(g)},1E3)}var b=x(this.scroller),c=b.width,e=b.height;a.call(this)},q.prototype.handleEvent=function(a){switch(a.type){case "touchstart":case "mousedown":this._start(a);this.options.zoom&&a.touches&&1<a.touches.length&&this._zoomStart(a);break;case "touchmove":case "mousemove":this.options.zoom&&a.touches&&1<a.touches.length?this._zoom(a):this._move(a);break;case "touchend":case "mouseup":case "touchcancel":case "mousecancel":this.scaled?this._zoomEnd(a):this._end(a);break;
case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);break;case "click":this.enabled&&!a._constructed&&(A(a.target,this.options.preventDefaultException)||(a.preventDefault(),a.stopPropagation()));break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._onMouseWheel(a)}},q.prototype.refresh=function(){var a="static"===window.getComputedStyle(this.wrapper,null).position,
b=x(this.wrapper);this.wrapperWidth=b.width;this.wrapperHeight=b.height;var c=x(this.scroller);this.scrollerWidth=Math.round(c.width*this.scale);this.scrollerHeight=Math.round(c.height*this.scale);this.relativeX=c.left;this.relativeY=c.top;a&&(this.relativeX-=b.left,this.relativeY-=b.top);this.minScrollY=this.minScrollX=0;(a=this.options.wheel)?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&
(this.selectedIndex=a.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),0>this.maxScrollX?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):1<this.scale&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),0>this.maxScrollY?
(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):1<this.scale&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY));this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY;this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight);
this.directionY=this.directionX=this.endTime=0;this.wrapperOffset=r(this.wrapper);this.trigger("refresh");!this.scaled&&this.resetPosition()},q.prototype.enable=function(){this.enabled=!0},q.prototype.disable=function(){this.enabled=!1},q.prototype._start=function(a){var b=T[a.type];1!==b&&0!==a.button||!this.enabled||this.destroyed||this.initiated&&this.initiated!==b||(this.initiated=b,this.options.preventDefault&&!A(a.target,this.options.preventDefaultException)&&a.preventDefault(),this.options.stopPropagation&&
a.stopPropagation(),this.moved=!1,this.directionLocked=this.movingDirectionY=this.movingDirectionX=this.directionY=this.directionX=this.distY=this.distX=0,this._transitionTime(),this.startTime=m(),this.options.wheel&&(this.target=a.target),this.stop(),a=a.touches?a.touches[0]:a,this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=a.pageX,this.pointY=a.pageY,this.trigger("beforeScrollStart"))},q.prototype._move=function(a){if(this.enabled&&!this.destroyed&&
T[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();this.options.stopPropagation&&a.stopPropagation();var b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,e=b.pageY-this.pointY;this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=c;this.distY+=e;var g=Math.abs(this.distX),l=Math.abs(this.distY);b=m();if(!(b-this.endTime>this.options.momentumLimitTime&&l<this.options.momentumLimitDistance&&g<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||
(g>l+this.options.directionLockThreshold?this.directionLocked="h":l>=g+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)a.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);e=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)a.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=
!1);c=0}c=this.hasHorizontalScroll?c:0;e=this.hasVerticalScroll?e:0;this.movingDirectionX=0<c?-1:0>c?1:0;this.movingDirectionY=0<e?-1:0>e?1:0;g=this.x+c;l=this.y+e;var v=!1,y=!1,E=!1,F=!1,B=this.options.bounce;!1!==B&&(v=void 0===B.top||B.top,y=void 0===B.bottom||B.bottom,E=void 0===B.left||B.left,F=void 0===B.right||B.right);(g>this.minScrollX||g<this.maxScrollX)&&(g=g>this.minScrollX&&E||g<this.maxScrollX&&F?this.x+c/3:g>this.minScrollX?this.minScrollX:this.maxScrollX);(l>this.minScrollY||l<this.maxScrollY)&&
(l=l>this.minScrollY&&v||l<this.maxScrollY&&y?this.y+e/3:l>this.minScrollY?this.minScrollY:this.maxScrollY);this.moved||(this.moved=!0,this.trigger("scrollStart"));this._translate(g,l);b-this.startTime>this.options.momentumLimitTime&&(this.startTime=b,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y}));1<this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y});c=this.pointX-(document.documentElement.scrollLeft||window.pageXOffset||
document.body.scrollLeft);e=this.pointY-(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop);(c>document.documentElement.clientWidth-this.options.momentumLimitDistance||c<this.options.momentumLimitDistance||e<this.options.momentumLimitDistance||e>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(a)}}},q.prototype._end=function(a){if(this.enabled&&!this.destroyed&&T[a.type]===this.initiated){this.initiated=!1;this.options.preventDefault&&
!A(a.target,this.options.preventDefaultException)&&a.preventDefault();this.options.stopPropagation&&a.stopPropagation();this.trigger("touchEnd",{x:this.x,y:this.y});this.isInTransition=!1;var b=Math.round(this.x),c=Math.round(this.y),e=b-this.absStartX,g=c-this.absStartY;if(this.directionX=0<e?-1:0>e?1:0,this.directionY=0<g?-1:0>g?1:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(a))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,K)){this._translate(b,
c);this.endTime=m();a=this.endTime-this.startTime;g=Math.abs(b-this.startX);var l=Math.abs(c-this.startY);if(this._events.flick&&a<this.options.flickLimitTime&&g<this.options.flickLimitDistance&&l<this.options.flickLimitDistance)this.trigger("flick");else{e=0;if(this.options.momentum&&a<this.options.momentumLimitTime&&(l>this.options.momentumLimitDistance||g>this.options.momentumLimitDistance)){var v=l=g=e=!1,y=this.options.bounce;!1!==y&&(e=void 0===y.top||y.top,g=void 0===y.bottom||y.bottom,l=void 0===
y.left||y.left,v=void 0===y.right||y.right);l=-1===this.directionX&&l||1===this.directionX&&v?this.wrapperWidth:0;e=-1===this.directionY&&e||1===this.directionY&&g?this.wrapperHeight:0;g=this.hasHorizontalScroll?t(this.x,this.startX,a,this.maxScrollX,this.minScrollX,l,this.options):{destination:b,duration:0};a=this.hasVerticalScroll?t(this.y,this.startY,a,this.maxScrollY,this.minScrollY,e,this.options):{destination:c,duration:0};b=g.destination;c=a.destination;e=Math.max(g.duration,a.duration);this.isInTransition=
!0}else this.options.wheel&&(c=Math.round(c/this.itemHeight)*this.itemHeight,e=this.options.wheel.adjustTime||400);a=U;this.options.snap&&(this.currentPage=a=this._nearestSnap(b,c),e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(b-a.x),1E3),Math.min(Math.abs(c-a.y),1E3)),300),b=a.x,c=a.y,this.directionY=this.directionX=0,a=this.options.snap.easing||K);if(b!==this.x||c!==this.y)return(b>this.minScrollX||b<this.maxScrollX||c>this.minScrollY||c<this.maxScrollY)&&(a=da),void this.scrollTo(b,
c,e,a);this.options.wheel&&(this.selectedIndex=Math.round(Math.abs(this.y/this.itemHeight)));this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},q.prototype._checkClick=function(a){var b,c,e,g=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,this.moved)return!1;if(this.options.wheel){if(this.target&&this.target.classList.contains(this.options.wheel.wheelWrapperClass)){a=Math.abs(Math.round(this.y/this.itemHeight));var l=Math.round((this.pointY+(c=this.wrapper,e=c.getBoundingClientRect(),
{left:-(e.left+window.pageXOffset),top:-(e.top+window.pageYOffset)}).top-this.wrapperHeight/2)/this.itemHeight);this.target=this.items[a+l]}return this.scrollToElement(this.target,this.options.wheel.adjustTime||400,!0,!0,U),!0}if(g)return!1;e=this.options.dblclick;c=!1;e&&this.lastClickTime&&(e=e.delay,e=void 0===e?300:e,m()-this.lastClickTime<e&&(c=!0,C(a,"dblclick")));return this.options.tap&&(l=this.options.tap,(b=document.createEvent("Event")).initEvent(l,!0,!0),b.pageX=a.pageX,b.pageY=a.pageY,
a.target.dispatchEvent(b)),this.options.click&&!A(a.target,this.options.preventDefaultException)&&C(a),this.lastClickTime=c?null:m(),!0},q.prototype._resize=function(){var a=this;this.enabled&&(J&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling))},q.prototype._startProbe=function(){M(this.probeTimer);this.probeTimer=V(function c(){var e=a.getComputedPosition();a.trigger("scroll",e);a.isInTransition?a.probeTimer=
V(c):a.trigger("scrollEnd",e)});var a=this},q.prototype._transitionTime=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[X]=a+"ms",this.options.wheel)for(var b=0;b<this.items.length;b++)this.items[b].style[X]=a+"ms";if(this.indicators)for(b=0;b<this.indicators.length;b++)this.indicators[b].transitionTime(a)},q.prototype._transitionTimingFunction=function(a){if(this.scrollerStyle[W]=a,this.options.wheel)for(var b=0;b<this.items.length;b++)this.items[b].style[W]=
a;if(this.indicators)for(b=0;b<this.indicators.length;b++)this.indicators[b].transitionTimingFunction(a)},q.prototype._transitionEnd=function(a){a.target!==this.scroller||!this.isInTransition||(this._transitionTime(),this.pulling&&1!==this.movingDirectionY||this.resetPosition(this.options.bounceTime,K)||(this.isInTransition=!1,3===this.options.probeType||this.trigger("scrollEnd",{x:this.x,y:this.y})))},q.prototype._translate=function(a,b,c){if(null==a||null==b)throw Error("[BScroll] Translate x or y is null or undefined.");
if(null==c&&(c=this.scale),this.options.useTransform?this.scrollerStyle[Q]="translate("+a+"px,"+b+"px) scale("+c+")"+this.translateZ:(a=Math.round(a),b=Math.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.options.wheel){var e=this.options.wheel.rotate;e=void 0===e?25:e;for(var g=0;g<this.items.length;g++)this.items[g].style[Q]="rotateX("+e*(b/this.itemHeight+g)+"deg)"}if(this.x=a,this.y=b,this.setScale(c),this.indicators)for(a=0;a<this.indicators.length;a++)this.indicators[a].updatePosition()},
q.prototype._animate=function(a,b,c,e){var g=this,l=this.x,v=this.y,y=this.lastScale,E=this.scale,F=m(),B=F+c;this.isAnimating=!0;M(this.animateTimer);(function ea(){var N=m();if(B<=N)return g.isAnimating=!1,g._translate(a,b,E),g.trigger("scroll",{x:g.x,y:g.y}),void(g.pulling||g.resetPosition(g.options.bounceTime)||g.trigger("scrollEnd",{x:g.x,y:g.y}));N=e((N-F)/c);g._translate((a-l)*N+l,(b-v)*N+v,(E-y)*N+y);g.isAnimating&&(g.animateTimer=V(ea));3===g.options.probeType&&g.trigger("scroll",{x:g.x,
y:g.y})})()},q.prototype.scrollBy=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:K;a=this.x+a;b=this.y+b;this.scrollTo(a,b,c,e)},q.prototype.scrollTo=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:K;(this.x!==a||this.y!==b)&&(this.isInTransition=this.options.useTransition&&0<c&&(a!==this.x||b!==this.y),!c||this.options.useTransition?
(this._transitionTimingFunction(e.style),this._transitionTime(c),this._translate(a,b),c&&3===this.options.probeType&&this._startProbe(),c||(this.trigger("scroll",{x:a,y:b}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,K)||this.trigger("scrollEnd",{x:a,y:b})),this.options.wheel&&(b>this.minScrollY?this.selectedIndex=0:b<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=Math.round(Math.abs(b/this.itemHeight)))):this._animate(a,b,c,e.fn))},
q.prototype.scrollToElement=function(a,b,c,e,g){if(a&&(a=a.nodeType?a:this.scroller.querySelector(a),!this.options.wheel||a.classList.contains(this.options.wheel.wheelItemClass))){var l=r(a);l.left-=this.wrapperOffset.left;l.top-=this.wrapperOffset.top;!0===c&&(c=Math.round(a.offsetWidth/2-this.wrapper.offsetWidth/2));!0===e&&(e=Math.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));l.left-=c||0;l.top-=e||0;l.left=l.left>this.minScrollX?this.minScrollX:l.left<this.maxScrollX?this.maxScrollX:l.left;
l.top=l.top>this.minScrollY?this.minScrollY:l.top<this.maxScrollY?this.maxScrollY:l.top;this.options.wheel&&(l.top=Math.round(l.top/this.itemHeight)*this.itemHeight);this.scrollTo(l.left,l.top,b,g)}},q.prototype.resetPosition=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:K,c=this.x,e=Math.round(c);!this.hasHorizontalScroll||e>this.minScrollX?c=this.minScrollX:e<this.maxScrollX&&(c=this.maxScrollX);e=this.y;var g=
Math.round(e);return!this.hasVerticalScroll||g>this.minScrollY?e=this.minScrollY:g<this.maxScrollY&&(e=this.maxScrollY),(c!==this.x||e!==this.y)&&(this.scrollTo(c,e,a,b),!0)},q.prototype.getComputedPosition=function(){var a=window.getComputedStyle(this.scroller,null),b=void 0,c=void 0;return c=this.options.useTransform?(b=+((a=a[Q].split(")")[0].split(", "))[12]||a[4]),+(a[13]||a[5])):(b=+a.left.replace(/[^-\d.]/g,""),+a.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},q.prototype.stop=function(){if(this.options.useTransition&&
this.isInTransition){this.isInTransition=!1;M(this.probeTimer);var a=this.getComputedPosition();this._translate(a.x,a.y);this.options.wheel?this.target=this.items[Math.round(-a.y/this.itemHeight)]:this.trigger("scrollEnd",{x:this.x,y:this.y});this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,M(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},q.prototype.destroy=function(){this.destroyed=!0;this.trigger("destroy");
this.options.useTransition?M(this.probeTimer):M(this.animateTimer);this._removeDOMEvents();this._events={}},q.prototype.on=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this;this._events[a]||(this._events[a]=[]);this._events[a].push([b,c])},q.prototype.once=function(a,b){function c(){this.off(a,c);b.apply(e,arguments)}var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this;c.fn=b;this.on(a,c)},q.prototype.off=function(a,b){if(a=this._events[a])for(var c=a.length;c--;)if(a[c][0]===
b||a[c][0]&&a[c][0].fn===b){for(var e=a,g=c;g+1<e.length;g++)e[g]=e[g+1];e.pop()}},q.prototype.trigger=function(a){var b=this._events[a];if(b){var c=b.length,e=[],g=e.concat;if(Array.isArray(b)){for(var l=0,v=Array(b.length);l<b.length;l++)v[l]=b[l];b=v}else b=Array.from(b);e=g.call(e,b);for(g=0;g<c;g++){b=void 0;l=e[g];if(!Array.isArray(l))if(Symbol.iterator in Object(l)){v=[];var y=!0,E=!1,F=void 0;try{for(var B=l[Symbol.iterator]();!(y=(b=B.next()).done)&&(v.push(b.value),2!==v.length);y=!0);}catch(O){E=
!0,F=O}finally{try{!y&&B.return&&B.return()}finally{if(E)throw F;}}l=v}else throw new TypeError("Invalid attempt to destructure non-iterable instance");b=l[0];l=l[1];b&&b.apply(l,[].slice.call(arguments,1))}}},q.prototype.wheelTo=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.options.wheel&&this.scrollTo(0,-a*this.itemHeight)},q.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},q.prototype._initWheel=function(){var a=this.options.wheel;
a.wheelWrapperClass||(a.wheelWrapperClass="wheel-scroll");a.wheelItemClass||(a.wheelItemClass="wheel-item");void 0===a.selectedIndex&&(a.selectedIndex=0,G("wheel option selectedIndex is required!"))},q.prototype._initMouseWheel=function(){var a=this;this._handleMouseWheelEvent(w);this.on("destroy",function(){clearTimeout(a.mouseWheelTimer);clearTimeout(a.mouseWheelEndTimer);a._handleMouseWheelEvent(z)});this.firstWheelOpreation=!0},q.prototype._handleMouseWheelEvent=function(a){a(this.wrapper,"wheel",
this);a(this.wrapper,"mousewheel",this);a(this.wrapper,"DOMMouseScroll",this)},q.prototype._onMouseWheel=function(a){var b=this;if(this.enabled){a.preventDefault();this.options.stopPropagation&&a.stopPropagation();this.firstWheelOpreation&&this.trigger("scrollStart");this.firstWheelOpreation=!1;var c=this.options.mouseWheel,e=c.speed;e=void 0===e?20:e;var g=c.invert,l=void 0!==g&&g;c=c.easeTime;var v=void 0===c?300:c;clearTimeout(this.mouseWheelTimer);this.mouseWheelTimer=setTimeout(function(){b.options.snap||
v||b.trigger("scrollEnd",{x:b.x,y:b.y});b.firstWheelOpreation=!0},400);g=c=void 0;switch(!0){case "deltaX"in a:g=1===a.deltaMode?(c=-a.deltaX*e,-a.deltaY*e):(c=-a.deltaX,-a.deltaY);break;case "wheelDeltaX"in a:c=a.wheelDeltaX/120*e;g=a.wheelDeltaY/120*e;break;case "wheelDelta"in a:c=g=a.wheelDelta/120*e;break;case "detail"in a:c=g=-a.detail/3*e;break;default:return}a=l?-1:1;c*=a;g*=a;this.hasVerticalScroll||(c=g,g=0);e=a=void 0;if(this.options.snap)return a=this.currentPage.pageX,e=this.currentPage.pageY,
0<c?a--:0>c&&a++,0<g?e--:0>g&&e++,void this._goToPage(a,e);a=this.x+Math.round(this.hasHorizontalScroll?c:0);e=this.y+Math.round(this.hasVerticalScroll?g:0);this.movingDirectionX=this.directionX=0<c?-1:0>c?1:0;this.movingDirectionY=this.directionY=0<g?-1:0>g?1:0;a>this.minScrollX?a=this.minScrollX:a<this.maxScrollX&&(a=this.maxScrollX);e>this.minScrollY?e=this.minScrollY:e<this.maxScrollY&&(e=this.maxScrollY);c=this.y===e;this.scrollTo(a,e,v,U);this.trigger("scroll",{x:this.x,y:this.y});clearTimeout(this.mouseWheelEndTimer);
c&&(this.mouseWheelEndTimer=setTimeout(function(){b.trigger("scrollEnd",{x:b.x,y:b.y})},v))}},q.Version="1.14.1",q})});f.prototype={constructor:f,baseData:function(){return{domId:{YYYY:"rolldate-year",MM:"rolldate-month",DD:"rolldate-day",hh:"rolldate-hour",mm:"rolldate-min",ss:"rolldate-sec"},opts:{el:"",format:"YYYY-MM-DD",beginYear:2E3,endYear:2100,init:null,moveEnd:null,confirm:null,cancel:null,minStep:1,trigger:"tap",lang:{title:"\u9009\u62e9\u65e5\u671f",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4",
year:"\u5e74",month:"\u6708",day:"\u65e5",hour:"\u65f6",min:"\u5206",sec:"\u79d2"}}}},extend:function(d){var h=this.baseData().opts,m;for(m in h)if(h[m]&&"[object Object]"==Object.prototype.toString.call(h[m]))for(var p in d[m])h[m][p]=void 0==d[m][p]?h[m][p]:d[m][p];else h[m]=d[m]||h[m];this.config=h},createUI:function(){var d=this,h=d.baseData(),m=d.config,p=h.domId,u=m.format.split(/-|\/|\s|:/g);h=u.length;for(var w="",z=d.$(m.el).bindDate||new Date,r="",x=m.lang,A=0;A<h;A++){r=u[A];var C=0;w+=
'<div id="'+p[r]+'"><ul class="wheel-scroll">';if("YYYY"==r)for(var t=m.beginYear;t<=m.endYear;t++)r=t==z.getFullYear()?"active":"",w+='<li class="wheel-item '+r+'" data-index="'+C+'">'+t+x.year+"</li>",C++;else if("MM"==r)for(t=1;12>=t;t++)r=t==z.getMonth()+1?"active":"",w+='<li class="wheel-item '+r+'" data-index="'+C+'">'+(10>t?"0"+t:t)+x.month+"</li>",C++;else if("DD"==r){t=d.bissextile(z.getFullYear(),z.getMonth()+1);for(var H=1;H<=t;H++)r=H==z.getDate()?"active":"",w+='<li class="wheel-item '+
r+'" data-index="'+C+'">'+(10>H?"0"+H:H)+x.day+"</li>",C++}else if("hh"==r)for(t=0;23>=t;t++)r=t==z.getHours()?"active":"",w+='<li class="wheel-item '+r+'" data-index="'+C+'">'+(10>t?"0"+t:t)+x.hour+"</li>",C++;else if("mm"==r)for(t=0;59>=t;t+=m.minStep)r=t==z.getMinutes()?"active":"",w+='<li class="wheel-item '+r+'" data-index="'+C+'">'+(10>t?"0"+t:t)+x.min+"</li>",C++;else if("ss"==r)for(t=0;59>=t;t++)r=t==z.getSeconds()?"active":"",w+='<li class="wheel-item '+r+'" data-index="'+C+'">'+(10>t?"0"+
t:t)+x.sec+"</li>",C++;w+="</ul></div>"}w='<div class="rolldate-mask"></div>\n            <div class="rolldate-panel fadeIn">\n                <header>\n                    <span class="rolldate-btn rolldate-cancel">'+x.cancel+"</span>\n                    "+x.title+'\n                    <span class="rolldate-btn rolldate-confirm">'+x.confirm+'</span>\n                </header>\n                <section class="rolldate-content">\n                    <div class="rolldate-dim mask-top"></div>\n                    <div class="rolldate-dim mask-bottom"></div>\n                    <div class="rolldate-wrapper">\n                        '+
w+"\n                    </div>\n                </section>\n            </div>";A=document.createElement("div");A.className="rolldate-container"+(navigator.userAgent.match(/MicroMessenger/i)?" wx":"");A.innerHTML=w;document.body.appendChild(A);d.scroll={};w=function(G){var q=p[u[G]];d.scroll[u[G]]=new n("#"+q,{wheel:{selectedIndex:0,wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item"},probeType:1});var D=d.scroll[u[G]];G=(G=d.$("#"+q+" .active"))?G.getAttribute("data-index"):Math.round(z.getMinutes()/
m.minStep);D.wheelTo(G);D.on("scrollEnd",function(){m.moveEnd&&m.moveEnd.call(d,D);if(-1!=[p.YYYY,p.MM].indexOf(D.wrapper.id)&&d.scroll.DD){d.getSelected(d.scroll.DD);var I=d.bissextile(d.getSelected(d.scroll.YYYY),d.getSelected(d.scroll.MM)),P="";if(I!=d.$("#"+p.DD+" li",1).length){for(var J=1;J<=I;J++)P+='<li class="wheel-item">'+(10>J?"0"+J:J)+x.day+"</li>";d.$("#"+p.DD+" ul").innerHTML=P;d.scroll.DD.refresh()}}})};for(A=0;A<h;A++)w(A)},$:function(d,h){return"string"!=typeof d&&d.nodeType?d:h?
document.querySelectorAll(d):document.querySelector(d)},tap:function(d,h){if("ontouchstart"in window&&"tap"==this.config.trigger){var m,p,u,w,z;d.addEventListener("touchstart",function(r){r=r.touches[0];m=r.pageX;p=r.pageY;u=+new Date});d.addEventListener("touchend",function(r){var x=r.changedTouches[0];w=x.pageX;z=x.pageY;300>+new Date-u&&20>Math.abs(w-m)+Math.abs(z-p)&&(r.preventDefault(),h.call(this,r));z=w=u=p=m=void 0})}else d.addEventListener("click",function(r){h.call(this,r)})},show:function(){var d=
this.config,h=this.$(d.el);h.bindRolldate&&("input"==h.nodeName.toLowerCase()&&h.blur(),this.$(".rolldate-container")||d.init&&!1===d.init.call(this)||(this.createUI(),this.event()))},hide:function(d){var h=this.$(".rolldate-panel.fadeIn");h&&(h.className="rolldate-panel fadeOut",this.destroy(d))},event:function(){var d=this,h=d.$(".rolldate-mask"),m=d.$(".rolldate-cancel"),p=d.$(".rolldate-confirm");d.tap(h,function(){d.hide(1)});d.tap(m,function(){d.hide(1)});d.tap(p,function(){var u=d.config,w=
d.$(u.el),z=u.format,r=new Date,x;for(x in d.scroll){var A=d.getSelected(d.scroll[x]);z=z.replace(x,A);"YYYY"==x?r.setFullYear(A):"MM"==x?r.setMonth(A-1):"DD"==x?r.setDate(A):"hh"==x?r.setHours(A):"mm"==x?r.setMinutes(A):"ss"==x&&r.setSeconds(A)}if(u.confirm){u=u.confirm.call(d,z);if(!1===u)return!1;u&&(z=u)}"input"==w.nodeName.toLowerCase()?(w.value=z,$(w).change()):w.innerText=z;d.hide();w.bindDate=r})},bissextile:function(d,h){var m=void 0;1==h||3==h||5==h||7==h||8==h||10==h||12==h?m=31:4==h||
6==h||11==h||9==h?m=30:2==h&&(m=0!=d%4||0==d%100&&0!=d%400?28:29);return m},destroy:function(d){var h=this,m=h.config,p;for(p in h.scroll)h.scroll[p].destroy();d&&m.cancel&&m.cancel.call(h);setTimeout(function(){var u=h.$(".rolldate-container");document.body.removeChild(u)},300)},getSelected:function(d){return this.$("#"+d.wrapper.id+" li",1)[d.getSelectedIndex()].innerText.replace(/\D/g,"")}};f.version="3.1.0";return f});
var PhoneReaderFormFrame=Class({onCreate:function(){this.parent.append(this.stage);this.stage.css({position:"fixed",left:0,bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":Color(colorDiv(this.mainColor,20)).rgba(this.formOpacity),color:this.fontColor,overflow:"hidden"})},show:function(){if(!this.visible){this.visible=!0;this.stage.css({visibility:"visible"});this.animate(this.height);this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,
this.hide.bind(this)),this.parent.append(this.mask));this.mask&&this.mask.show();var f,k;null==(f=BookInfo)||null==(k=f.getBook())||k.addSearchHighlight()}}}).extend(PhoneBottomFormFrame),PhoneArticlePeriodical=Class({create:function(f){this._super(f);this.fillContent()},onCreate:function(){this._super();this.stage.css({"background-color":"#ffffff",color:"#333940"});$("#date-group").bind("input propertychange change",function(){var f=$("#date-group").val();if(f)f=this.refreshListByDate(f),this.refreshList(f);
else this.onRefresh()}.bind(this))},initHtml:function(){this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>");this.calendarUrl=this.getImageUrl("calendar_form");this.cancleUrl=this.getImageUrl("closeForm");this.articleArrowUrl=this.getImageUrl("articleDateArrow");this.articleEmptyUrl=this.getImageUrl("articleEmpty");this.head=$("<div class='head'></div>");this.title2=$("<div class='title2'><img src='"+this.calendarUrl+"'/><span>"+getLanguage("btnCalendar","\u5f80\u671f")+"</span></div>");this.close=
$("<div class='close'><img alt='close' width='auto' height='auto' src='"+this.cancleUrl+"'/><span></span></div>");this.dataButton=$("<div class='dataButton'><img src='"+this.articleArrowUrl+"'/><input id='date-group' placeholder='\u9009\u62e9\u65e5\u671f'/></div>");this.head.append(this.title2);this.head.append(this.dataButton);this.empty=$("<div class='calendar_empty'><img src='"+this.articleEmptyUrl+"'/><p>\u6ca1\u6709\u76f8\u5173\u7ed3\u679c</p></div>");this.container=$("<div class='container'></div>");
this.head.append(this.close);this.stage.append(this.head);this.stage.append(this.empty);this.stage.append(this.container);$(this.close).changeButtonColor("#333940")},onResize:function(){this.width=windowWidth;this.height=windowHeight;this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});this.container.css({width:"100%",height:windowHeight-62+"px",overflow:"auto","scroll-behavior":"smooth",padding:"0"});var f=this.visible?transformCSS({tran:{x:0,y:-this.height}}):
transformCSS({tran:{x:0,y:0}});this.stage.css(f);this.container.bind(_event._mousewheel,function(k){k.stopPropagation()}.bind(this))},initDatePicker:function(){var f="YYYY-MM-DD";switch(this.data.dateType){case "day":f="YYYY-MM-DD";break;case "week":case "half-month":case "month":f="YYYY-MM";break;case "two-months":case "season":case "half-year":case "year":f="YYYY"}var k=this.data.list&&Array.isArray(this.data.list)&&this.data.list.filter(function(n){return n.time}).map(function(n){return Number(n.time)});
k=0<k.length?Math.min.apply(null,k):0;k=0<k?(new Date(k)).getFullYear():2E3;this.rolldate=new Rolldate({el:"#date-group",format:f,beginYear:k,endYear:2100})},refreshListByDate:function(f){for(var k=this.data.list,n=[],d=0;d<k.length;d++)if(k[d].time){var h=dateFormat(k[d].time,"yyyy-MM-dd");h&&0<=h.indexOf(f)&&n.push(k[d])}return n},onRefresh:function(){this.refreshList(this.data.list)},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){window.readerCenterPanel&&
window.readerCenterPanel.$panelBox&&(this.visible?$(window.readerCenterPanel.$panelBox).hide():$(window.readerCenterPanel.$panelBox).show())},fillContent:function(){window.book_visit&&window.book_visit.periodicalId&&window.book_visit.periodsListPath&&$.ajax({url:window.book_visit.periodsListPath,data:{periodicalId:window.book_visit.periodicalId},type:"get",async:!1,success:function(f){try{this.fillList(eval("("+f+")").data)}catch(k){}}.bind(this),error:function(){}})},fillList:function(f){this.loading.remove();
this.data=f;this.initDatePicker();var k=f.list;try{var n=document.referrer;if(!k.map(function(d){var h=$jscomp.makeIterator(d.domainUrl?d.domainUrl.match(/^(https?:\/\/)([^\/]+)(\/.*)$/):d.bookUrl.match(/^(https?:\/\/)([^\/]+)(\/.*)$/));h.next();d=h.next().value;var m=h.next().value;h=h.next().value;return new RegExp("^"+d+m+h+"(?:\\?|.*)$","i")}).some(function(d){return d.test(n)}))switch(Number(f.autoShowPastList||"")){case 1:case 3:this.show()}}catch(d){}f&&k&&0!=k.length?this.refreshList(k):this.empty.show()},
refreshList:function(f){this.container.empty();if(f&&0!=f.length){this.empty.hide();for(var k={$jscomp$loop$prop$i$3:0};k.$jscomp$loop$prop$i$3<f.length;k={$jscomp$loop$prop$i$3:k.$jscomp$loop$prop$i$3},k.$jscomp$loop$prop$i$3++){var n=f[k.$jscomp$loop$prop$i$3].time?dateFormat(f[k.$jscomp$loop$prop$i$3].time,"yyyy-MM-dd"):"",d=$("<div class='item' bookUrl='"+f[k.$jscomp$loop$prop$i$3].bookUrl+"' domainUrl='"+f[k.$jscomp$loop$prop$i$3].domainUrl+"'></div>"),h=$("<div class='h2'>"+f[k.$jscomp$loop$prop$i$3].title+
"</div>");n=$("<div class='time'>"+n+"</div>");$("<div class='tip'>\u6700\u8fd1\u8bfb\u8fc7</div>");var m=$("<div class='image'></div>");m.css("background-image","url("+f[k.$jscomp$loop$prop$i$3].image+")");d.append(h);d.append(n);d.append(m);var p=this;d.click(function(u){return function(){var w=$(this).attr("bookUrl"),z=$(this).attr("domainUrl");p.showBook(w,z,f[u.$jscomp$loop$prop$i$3].bLink||"")}}(k));this.container.append(d)}k=$("<div class='tips'>\u6682\u65e0\u66f4\u591a</div>");this.container.append(k)}else this.empty.show()},
showBook:function(f,k,n){k&&k.indexOf(0<=window.location.host)&&(f=k);f&&(k=f,window.top!==window.self&&(window.location.search&&(k+=window.location.search),window.parent.postMessage({bookParam:n},"*")),window.location.href.split("#")[0].split("?")[0].replace("/mobile","")==f?this.hide():window.open(k,"_self"))},getImageUrl:function(f){return window.phone_toolbar_icons&&phone_toolbar_icons[f]?"data:image/png;base64,"+phone_toolbar_icons[f]:uiBaseURL+f+".png"},hide:function(){this._super();$("#date-group").val("");
this.onRefresh()}}).extend(PhoneReaderFormFrame);
